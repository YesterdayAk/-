"use strict";(self.webpackChunklabor_live=self.webpackChunklabor_live||[]).push([[160],{4330:(e,n,s)=>{s.r(n),s.d(n,{default:()=>cs});var i=s(6252),t=s(3577),o=s(9963),a=s(7826),r=s(1245),l=s(7076),c=s(5884),u=s(1077),d=s(170),p=s(4127),g=s(1839),v=s(6456),f=s(7018),h=s(2536),m=s(4994),w=s(2805),y=s(7161),_=s(2853),b=s(9151),k=s(389),H=s(5741),I=function(e){return(0,i.dD)("data-v-bc741be2"),e=e(),(0,i.Cn)(),e},B={class:"live"},T={class:"headerBox"},D={class:"header"},S={class:"header-top"},C={class:"stream"},P=I((function(){return(0,i._)("div",{class:"stream-status"},[(0,i._)("img",{src:"https://res1.qdszgh.cn/%E9%B8%BF%E9%9B%81%E8%9E%8D%E7%9B%B4%E6%92%AD/circle.png",alt:""}),(0,i._)("span",{class:"message"},"直播中")],-1)})),E={class:"stream-theme"},L={class:"title"},F=[I((function(){return(0,i._)("img",{src:a,alt:""},null,-1)})),I((function(){return(0,i._)("span",{class:"message"},"排行榜",-1)}))],A={class:"header-center"},x={class:"introduce-bottom"},M={key:0,class:"brief_normal"},z=[I((function(){return(0,i._)("span",{class:"message"},"直播简介",-1)}))],j={key:1,class:"brief_active"},R=[I((function(){return(0,i._)("span",{class:"message"},"回到聊天",-1)}))],q={key:2,style:{width:"6px",height:"11px"},src:r,alt:""},G={key:3,style:{width:"6px",height:"11px"},src:l,alt:""},Z={class:"introduce-bottom-right"},W={key:0,class:"browse"},U=I((function(){return(0,i._)("img",{src:"https://res1.qdszgh.cn/%E9%B8%BF%E9%9B%81%E8%9E%8D%E7%9B%B4%E6%92%AD/browse.png",alt:""},null,-1)})),O={class:"number"},N={key:1,class:"like"},$=I((function(){return(0,i._)("img",{src:"https://res1.qdszgh.cn/%E9%B8%BF%E9%9B%81%E8%9E%8D%E7%9B%B4%E6%92%AD/like.png",alt:""},null,-1)})),J={class:"number"},V=[I((function(){return(0,i._)("img",{class:"text",src:c,alt:""},null,-1)})),I((function(){return(0,i._)("span",{class:"message"},"图文直播",-1)})),I((function(){return(0,i._)("img",{src:r,alt:""},null,-1)}))],Y={class:"header-bottom"},K={class:"contentBox"},X={class:"content"},Q={class:"content-top"},ee={class:"movie",ref:"movie"},ne={key:0,src:"https://res1.qdszgh.cn/%E9%B8%BF%E9%9B%81%E8%9E%8D%E7%9B%B4%E6%92%AD/vertical_leave.png",alt:""},se=["src"],ie={class:"info"},te={class:"name"},oe={class:"message"},ae={class:"gift"},re=["src"],le={key:0,class:"content-center"},ce={class:"introduce",ref:"introduce"},ue={class:"introduce-top"},de={class:"stream"},pe=I((function(){return(0,i._)("div",{class:"stream-status"},[(0,i._)("img",{src:u,alt:""}),(0,i._)("span",{class:"message"},"直播中")],-1)})),ge={class:"stream-theme"},ve={class:"title"},fe={class:"introduce-bottom"},he={key:0,class:"brief_normal"},me=[I((function(){return(0,i._)("span",{class:"message"},"直播简介",-1)}))],we={key:1,class:"brief_active"},ye=[I((function(){return(0,i._)("span",{class:"message"},"回到聊天",-1)}))],_e={key:2,src:d,alt:""},be={key:3,src:l,alt:""},ke={class:"introduce-bottom-right"},He={class:"browse"},Ie=I((function(){return(0,i._)("img",{src:p,alt:""},null,-1)})),Be={class:"number"},Te=["innerHTML"],De={key:1,class:"start"},Se=[I((function(){return(0,i._)("canvas",{id:"canvas",class:"canvas"},null,-1)}))],Ce=[I((function(){return(0,i._)("img",{src:g,alt:""},null,-1)}))],Pe={key:4,class:"goodsBox"},Ee={class:"goods",ref:"goods"},Le=["src"],Fe={class:"goods_info"},Ae={class:"title"},xe={class:"info"},Me={class:"info-left"},ze=I((function(){return(0,i._)("span",{class:"symbol"},"￥",-1)})),je={class:"price"},Re={class:"sell"},qe=(0,i.Uk)("购买"),Ge={key:1,class:"content-bottom",ref:"contentBottom"},Ze={class:"send",ref:"send"},We={class:"send-left"},Ue=[I((function(){return(0,i._)("img",{src:"https://res1.qdszgh.cn/%E9%B8%BF%E9%9B%81%E8%9E%8D%E7%9B%B4%E6%92%AD/shopping.png",alt:""},null,-1)}))],Oe=["placeholder","disabled"],Ne={key:0,class:"send-center"},$e=(0,i.Uk)("发送"),Je={key:1,class:"send-right"},Ve=[I((function(){return(0,i._)("img",{src:v,alt:""},null,-1)}))],Ye=[I((function(){return(0,i._)("img",{src:f,alt:""},null,-1)}))],Ke={class:"restBox"},Xe={class:"rest"},Qe={class:"rest-top"},en={class:"account"},nn=I((function(){return(0,i._)("span",{class:"title"},"剩余：",-1)})),sn={class:"number"},tn={class:"rest-center"},on={class:"chat"},an=I((function(){return(0,i._)("div",{class:"chat-top"},[(0,i._)("span",{class:"title"},"聊天室功能")],-1)})),rn={class:"chat-bottom"},ln=I((function(){return(0,i._)("img",{src:h,alt:""},null,-1)})),cn=I((function(){return(0,i._)("span",{class:"message"},"发图片",-1)})),un={class:"streaming"},dn=I((function(){return(0,i._)("div",{class:"streaming-top"},[(0,i._)("span",{class:"title"},"直播间功能")],-1)})),pn={class:"streaming-bottom"},gn=[I((function(){return(0,i._)("img",{src:m,alt:""},null,-1)})),I((function(){return(0,i._)("span",{class:"message"},"中奖记录",-1)}))],vn=[I((function(){return(0,i._)("img",{src:w,alt:""},null,-1)})),I((function(){return(0,i._)("span",{class:"message"},"赠送记录",-1)}))],fn=[I((function(){return(0,i._)("img",{src:y,alt:""},null,-1)})),I((function(){return(0,i._)("span",{class:"message"},"订单记录",-1)}))],hn=[I((function(){return(0,i._)("img",{src:_,alt:""},null,-1)})),I((function(){return(0,i._)("span",{class:"message"},"去分享",-1)}))],mn={key:0,class:"manage"},wn=I((function(){return(0,i._)("div",{class:"manage-top"},[(0,i._)("span",{class:"title"},"管理员功能")],-1)})),yn={class:"manage-bottom"},_n=[I((function(){return(0,i._)("img",{src:b,alt:""},null,-1)})),I((function(){return(0,i._)("span",{class:"message"},"福袋管理",-1)}))],bn=[I((function(){return(0,i._)("img",{src:k,alt:""},null,-1)})),I((function(){return(0,i._)("span",{class:"message"},"管理员",-1)}))],kn=[I((function(){return(0,i._)("img",{src:H,alt:""},null,-1)})),I((function(){return(0,i._)("span",{class:"message"},"禁言名单",-1)}))],Hn={class:"information"},In=I((function(){return(0,i._)("div",{class:"information-top"},[(0,i._)("span",{class:"title"},"幸运福袋")],-1)})),Bn={class:"information-center"},Tn=I((function(){return(0,i._)("span",{class:"message"},"福袋将于",-1)})),Dn=I((function(){return(0,i._)("span",{class:"message"},"后开启，快来报名吧！",-1)})),Sn={class:"information-bottom"},Cn=(0,i.Uk)("您已报名"),Pn=(0,i.Uk)("立即报名"),En={class:"remind"},Ln={class:"title"},Fn={class:"message"},An=(0,i.Uk)("确认"),xn={class:"warning"},Mn=I((function(){return(0,i._)("span",{class:"title"},"提示",-1)})),zn=I((function(){return(0,i._)("span",{class:"message"},"欢迎来到直播间！请文明观看发言，如有违规现象将会被请出直播间，严重违规者，平台将移交相关部门处理",-1)})),jn=(0,i.Uk)("我知道了");var Rn=s(655),qn=s(2262),Gn=s(1898),Zn=s(4949),Wn=s(1751),Un=(s(4333),s(6312)),On=s(3702),Nn=s(8935),$n=s(6466);var Jn=s(3649),Vn=s(4335);const Yn=(0,i.aZ)({name:"vue-hls-player-example",props:{showPushStream:{type:Boolean,default:!1},videoSource:{type:Object,default:{}},videoSrc:{type:String,default:""}},components:{VideoPlayer:Vn.Y7},setup:function(){var e=(0,qn.XI)();return(0,i.Ah)((function(){e.value&&e.value.dispose()})),{isSafari:Jn.default.browser.IS_SAFARI,start:function(){e.value&&e.value.play()},handleMounted:function(n){e.value=n.player,console.log("HLS Live player mounted",n)}}}});var Kn=s(3744);const Xn=(0,Kn.Z)(Yn,[["render",function(e,n,s,t,o,a){var r=(0,i.up)("video-player",!0);return e.showPushStream?((0,i.wg)(),(0,i.j4)(r,{key:0,class:"video-player vjs-theme-forest",crossorigin:"anonymous",playsinline:"",liveui:"",sources:[e.videoSource],html5:{vhs:{overrideNative:!e.isSafari,maxPlaylistRetries:1/0},nativeAudioTracks:!1,nativeVideoTracks:!1},onMounted:e.handleMounted},null,8,["sources","html5","onMounted"])):((0,i.wg)(),(0,i.j4)(r,{key:1,class:"video-player vjs-big-play-centered",src:e.videoSrc,loop:"",crossorigin:"anonymous",playsinline:"",onMounted:e.handleMounted},null,8,["src","onMounted"]))}],["__scopeId","data-v-51d627b6"]]);var Qn=s(1509),es=s(8095),ns=s(5759),ss=s(5684),is=s(5296),ts=s(8593),os=s(1610),as=s(8851),rs=new es.xd(Qn,{emojisToShowFilter:function(e){return!0},exclude:["search","recent","people","nature","foods","activity","objects","symbols","flags","custom"]});const ls=(0,i.aZ)({name:"live",components:{Barrage:Un.Z,Picker:es.cW,Shopping:On.Z,Present:Nn.Z,LiveLike:$n.Z,VideoPlayer:Xn},setup:function(){var e=this,n=(0,Zn.tv)(),s=((0,Zn.yj)(),(0,i.FN)().appContext.config.globalProperties.$axios),t=(0,ns.H)(),o=(0,ss.Jk)(t),a=o.liveId,r=o.userId,l=o.liveTitle,c=o.liveBrowse,u=o.liveDescribe,d=o.laborApp,p=(o.isFirstApp,o.screenSizeType,o.userPhone,o.isAdmin,(0,qn.qj)({showGift:(0,qn.iH)(!0),showPlive:(0,qn.iH)(!1),pullFlowM3u8Address:(0,qn.iH)(""),videoHeight:(0,qn.iH)("100vh"),showPushStream:(0,qn.iH)(!0),warmTime:(0,qn.iH)(6e5),videoSource:{src:(0,qn.iH)("https://d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8"),type:(0,qn.iH)("application/x-mpegURL")},videoSrc:(0,qn.iH)(""),liveStatus:(0,qn.iH)(1),liveTitle:(0,qn.iH)(""),liveBrowse:(0,qn.iH)(""),liveCount:(0,qn.iH)(0),liveDescribe:(0,qn.iH)(""),laborApp:!0,isAdmin:(0,qn.iH)("0"),emojiIndex:rs,isExpression:!1,message:"",isForbidden:!1,chatType:(0,qn.iH)(""),movieHeight:0,introduceHeight:0,describeHeight:"",equipmentHeight:0,goodsHeight:0,showGoods:(0,qn.iH)(!1),timer:(0,qn.iH)(59),showShopping:!1,isDescribe:!1,isBigScreen:!1,sendHeight:0,givePresentList:(0,qn.iH)([]),showAccess:!1,showPresent:!1,showMore:!1,fileList:[],luckyInfo:{isBag:(0,qn.iH)(!1),countDownLong:(0,qn.iH)(0),liveGoodBagId:(0,qn.iH)(""),isApply:(0,qn.iH)(!1)},showLuckyBag:(0,qn.iH)(!1),showPrize:(0,qn.iH)(!1),showWarning:(0,qn.iH)(!1),prizeRemind:(0,qn.iH)(""),prizeInfo:(0,qn.iH)(""),turnplateInfo:{isTurnplate:(0,qn.iH)(!1),turnplateId:(0,qn.iH)(0)},goldCoin:(0,qn.iH)(0),hiddenTime:(0,qn.iH)(0),visibleTime:(0,qn.iH)(0),cartInfo:{isCart:(0,qn.iH)(!1)},goodsInfo:{goodsId:(0,qn.iH)(0),goodsName:(0,qn.iH)(""),goodsPicture:(0,qn.iH)(""),goodsPrice:(0,qn.iH)(0),goodsSalesk:(0,qn.iH)(0)}})),g=(0,qn.iH)(null),v=(0,qn.iH)(null),f=(0,qn.iH)(null),h=(0,qn.iH)(null),m=(0,qn.iH)(null),w=(0,qn.iH)(),y=(0,qn.iH)(),_=(0,qn.iH)(),b=(0,qn.iH)(),k=(0,qn.iH)(null);document.body.addEventListener("touchmove",(function(e){e._isScroller||e.preventDefault()}),{passive:!1});var H=function(){g.value&&(p.movieHeight=g.value.offsetHeight,t.$patch({screenSizeType:"2"})),v.value&&(p.introduceHeight=v.value.offsetHeight),h.value&&(p.sendHeight=h.value.offsetHeight),p.isBigScreen=(0,as.ct)(),p.equipmentHeight=window.innerHeight,p.isBigScreen?p.describeHeight=window.innerHeight-p.movieHeight-p.introduceHeight-35+"px":p.describeHeight=window.innerHeight-p.movieHeight-p.introduceHeight+"px"};function I(){s.get(s.defaults.baseURL+"/jeecg-boot/live/api/getLive",{params:{liveId:a.value}}).then((function(e){if(200==e.data.code){t.$patch({liveTitle:e.data.result.name,liveBrowse:e.data.result.viewPersonTime,liveDescribe:e.data.result.introduce}),p.pullFlowM3u8Address=e.data.result.pullFlowM3u8Address,p.liveTitle=l.value,p.liveBrowse=c.value,p.liveDescribe=u.value,p.laborApp=d.value,p.laborApp||(p.isForbidden=!0);var s=e.data.result.giveGiftFlag;p.showGift=!!s;var i=e.data.result.imageTextLiveFlag;p.showPlive=!!i;var o=e.data.result.playBackFlag,a=new Date(e.data.result.serverTime.replace(/-/g,"/")),r=new Date(e.data.result.startTenMinutes.replace(/-/g,"/")),g=new Date(e.data.result.startTime.replace(/-/g,"/")),v=new Date(e.data.result.endTime.replace(/-/g,"/"));r>a?n.push({name:"guide"}):g<=a&&a<=v?(p.showWarning=!0,p.showPushStream=!0,p.videoSource={src:p.pullFlowM3u8Address,type:"application/x-mpegURL"}):g>a&&a>=r?(p.showWarning=!0,p.showPushStream=!1,p.videoSrc=e.data.result.warmVideo,p.warmTime=g.getTime()-a.getTime()):a>v&&(p.showWarning=!0,p.showPushStream=!1,o&&(p.videoSrc=e.data.result.playBackAddress)),p.liveCount=e.data.result.fabulous}}))}function B(e){p.givePresentList=[],p.givePresentList.push(e),p.showAccess=!0}(0,i.YP)([function(){return p.givePresentList},function(){return p.showGoods}],(function(e){var n=e[0],s=e[1];if(n.length&&setTimeout((function(){p.showAccess=!1}),2e3),s){var i=setInterval((function(){p.timer=p.timer-1,0==p.timer&&(p.showGoods=!1,p.goodsHeight=0,clearInterval(i))}),1e3);setTimeout((function(){f.value&&(p.goodsHeight=f.value.offsetHeight)}),0)}}));var T=function(e){return(0,Rn.mG)(this,void 0,void 0,(function(){var n,s,i,t,o,a;return(0,Rn.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),n=e,[4,(s=new ts.DB).find(n)];case 1:return(i=r.sent())?[3,4]:[4,new ts.Parser({isDisableImageBitmapShim:!0}).load(n)];case 2:return i=r.sent(),[4,s.insert(n,i)];case 3:r.sent(),r.label=4;case 4:return t=document.getElementById("canvas"),[4,(o=new ts.Player({container:t,loop:1})).mount(i)];case 5:return r.sent(),o.onStart=function(){},o.start(),[3,7];case 6:return a=r.sent(),console.error(a),[3,7];case 7:return[2]}}))}))};function D(e){var n,s,i;return(0,Rn.mG)(this,void 0,void 0,(function(){var o,a,r,l;return(0,Rn.Jh)(this,(function(c){switch(c.label){case 0:return o=JSON.parse(e.data),"0"!=(a=JSON.parse(JSON.stringify(o))).pushType?[3,2]:(r={id:Date.now(),avatar:a.avatar,handlerName:a.handlerName,liveId:a.liveId,message:a.message,messageType:a.messageType,pushType:a.pushType,realname:a.realname},[4,null===(n=w.value)||void 0===n?void 0:n.addTimeOut(r)]);case 1:return c.sent(),[3,11];case 2:return"1"!=a.pushType?[3,3]:(p.luckyInfo.isBag=!0,p.luckyInfo.countDownLong=a.countDownLong,p.luckyInfo.liveGoodBagId=a.liveGoodBagId,a.winPrizeFlag&&"1"==a.goodBagType?(p.prizeRemind="福袋开奖！",p.prizeInfo="恭喜开福袋获得"+a.goldCoin+"金币",p.showPrize=!0):a.winPrizeFlag||"1"!=a.goodBagType||(p.prizeRemind="未中奖！",p.prizeInfo="很遗憾，您未中奖！",p.showPrize=!0),[3,11]);case 3:return"2"!=a.pushType?[3,5]:(p.isForbidden=!0,p.chatType=a.chatType,l={id:Date.now(),realname:a.realname,pushType:a.pushType,chatType:a.chatType},[4,null===(s=w.value)||void 0===s?void 0:s.addTimeOut(l)]);case 4:return c.sent(),[3,11];case 5:return"3"!=a.pushType?[3,8]:[4,B({id:Date.now(),avatar:a.avatar,handlerName:a.handlerName,icon:a.icon,liveId:a.liveId,name:a.name,pushType:a.pushType,realname:a.realname,sendMessageType:a.sendMessageType,swf:a.swf})];case 6:return c.sent(),[4,T(a.swf)];case 7:return c.sent(),[3,11];case 8:return"4"!=a.pushType?[3,10]:(p.isForbidden=!1,p.chatType=a.chatType,l={id:Date.now(),realname:a.realname,pushType:a.pushType,chatType:a.chatType},[4,null===(i=w.value)||void 0===i?void 0:i.addTimeOut(l)]);case 9:return c.sent(),[3,11];case 10:if("5"==a.pushType)p.turnplateInfo.isTurnplate=!0,p.turnplateInfo.turnplateId=a.liveGoodBagId;else if("6"==a.pushType)p.showGoods=!0,p.goodsInfo=a;else if("7"==a.pushType)p.cartInfo.isCart=!0;else if("9"==a.pushType)p.liveCount=a.fabulous;else if("10"==a.pushType)p.isAdmin=a.isAdmin,t.$patch({isAdmin:a.isAdmin});else if("11"==a.pushType)switch(p.liveStatus=a.liveStatus,p.liveStatus){case 0:default:break;case 1:p.showWarning=!0}c.label=11;case 11:return[2]}}))}))}(0,i.bv)((function(){return(0,Rn.mG)(e,void 0,void 0,(function(){return(0,Rn.Jh)(this,(function(e){switch(e.label){case 0:return[4,H()];case 1:return e.sent(),[4,I()];case 2:return e.sent(),is.Z.connectURL="wss://websocket.qdszgh.cn:8443/jeecg-boot/testLiveWebsocket/"+a.value+"/"+r.value,is.Z.init(D),[2]}}))}))}));var S=function(){s.get(s.defaults.baseURL+"/jeecg-boot/goodBag/api/signUpGoodFlag",{params:{goodBagId:p.luckyInfo.liveGoodBagId}}).then((function(e){200==e.data.code&&(p.luckyInfo.isApply=e.data.result)}))};var C=(0,Gn.Z)().toClipboard,P=!1;return window.addEventListener("pageshow",(function(){P&&window.location.reload()})),window.addEventListener("pagehide",(function(){P=!0})),document.addEventListener("visibilitychange",(function(){"hidden"==document.visibilityState&&d.value?p.hiddenTime=(new Date).getTime():"visible"==document.visibilityState&&d.value&&(p.visibleTime=(new Date).getTime(),(p.visibleTime-p.hiddenTime)/1e3>60&&is.Z.init(D))})),(0,Rn.pi)((0,Rn.pi)({},(0,qn.BK)(p)),{onFocus:function(){var e;p.isExpression=!1,null===(e=w.value)||void 0===e||e.scrollBottom()},judgeApplyInfo:S,getLuckyBag:function(){is.Z.init(D),p.showLuckyBag=!0,S()},finish:function(){p.luckyInfo.isBag=!1},getApplyInfo:function(){s.get(s.defaults.baseURL+"/jeecg-boot/goodBag/api/goodBagEnroll",{params:{goodBagId:p.luckyInfo.liveGoodBagId}}).then((function(e){200==e.data.code?Wn.Z.success("报名成功"):Wn.Z.fail(e.data.message),p.showLuckyBag=!1}))},getTurnplateInfo:function(){n.push({path:"/lottery",query:{activityId:p.turnplateInfo.turnplateId}})},getDetail:function(e,n){var s;p.showShopping=!0,null===(s=y.value)||void 0===s||s.getGoodsDetail(e,n)},sendMessage:function(){var e;p.message?null===(e=w.value)||void 0===e||e.getCommentMessage():Wn.Z.fail("请输入内容"),p.message=""},movie:g,introduce:v,goods:f,send:h,contentBottom:m,barrage:w,shopping:y,present:_,refInput:k,video:b,elementHeight:H,getRankInfo:function(){p.laborApp?(t.$patch({isFirstApp:!1}),n.push({name:"rank"})):(0,Wn.Z)("解锁全部功能，请登录“齐鲁工惠app”观看直播")},getLiveInfo:I,warmFinish:function(){p.showWarning=!0,p.showPushStream=!0,p.videoSource={src:p.pullFlowM3u8Address,type:"application/x-mpegURL"}},playVideo:function(){var e;p.showWarning=!1,null===(e=b.value)||void 0===e||e.start()},getPliveInfo:function(){p.laborApp?(t.$patch({isFirstApp:!1}),n.push({name:"plive"})):(0,Wn.Z)("解锁全部功能，请登录“齐鲁工惠app”观看直播")},getPresentList:B,switchLiveInfo:function(){t.$patch({isFirstApp:!1}),p.isDescribe=!p.isDescribe},inputBlur:function(){(0,i.Y3)((function(){k.value&&k.value.blur()}))},handleTouch:function(e){e._isScroller=!0},toggleExpression:function(){return p.isForbidden&&"0"==p.chatType?((0,Wn.Z)("您已被禁言，不能发布表情！"),!1):p.isForbidden&&"1"==p.chatType?((0,Wn.Z)("全员禁言中，不能发布表情！"),!1):p.isForbidden&&!d?((0,Wn.Z)("解锁全部功能，请登录“齐鲁工惠app”观看直播"),!1):void(p.laborApp&&(t.$patch({isFirstApp:!1}),setTimeout((function(){var e;p.isExpression=!p.isExpression,null===(e=w.value)||void 0===e||e.scrollBottom()}),100)))},addEmoji:function(e){p.message+=e.native},getShoppingInfo:function(){p.showShopping=!0},getGiftInfo:function(){var e;p.showGift?(t.$patch({isFirstApp:!1}),p.showPresent=!0,p.isExpression=!1,null===(e=_.value)||void 0===e||e.getMyCoin()):(0,Wn.Z)("禁止赠送礼物")},getMoreInfo:function(){p.showMore=!0,s.get(s.defaults.baseURL+"/jeecg-boot/user/api/getMyGoldCoin").then((function(e){200==e.data.code&&e.data.result&&(p.goldCoin=e.data.result)}))},onClose:function(){p.showMore=!1},beforeRead:function(e){return p.isForbidden&&"0"==p.chatType?((0,Wn.Z)("您已被禁言，不能发布图片！"),!1):p.isForbidden&&"1"==p.chatType?((0,Wn.Z)("全员禁言中，不能发布图片！"),!1):p.isForbidden&&!d?((0,Wn.Z)("解锁全部功能，请登录“齐鲁工惠app”观看直播"),!1):!e.type.indexOf("image")||((0,Wn.Z)("请上传jpg、jpeg、png格式图片"),!1)},afterRead:function(e){if(p.laborApp){Wn.Z.loading({duration:0,message:"发送中...",forbidClick:!0});var n=new FormData;n.append("file",e.file),(0,os.B7)(s.defaults.baseURL+"/jeecg-boot/sys/common/upload",n).then((function(e){var n;Wn.Z.clear(),e.data.message?null===(n=w.value)||void 0===n||n.quene(e.data.message):(0,Wn.Z)("发送失败")}))}else(0,Wn.Z)("解锁全部功能，请登录“齐鲁工惠app”观看直播")},getPrizeRecord:function(){t.$patch({isFirstApp:!1}),p.laborApp?n.push({name:"prizeRecord"}):(0,Wn.Z)("解锁全部功能，请登录“齐鲁工惠app”观看直播")},getGiveRecord:function(){t.$patch({isFirstApp:!1}),p.laborApp?n.push({name:"giveRecord"}):(0,Wn.Z)("解锁全部功能，请登录“齐鲁工惠app”观看直播")},getOrderRecord:function(){n.push({name:"orderRecord"})},getLuckyManage:function(){n.push({name:"luckyManage"})},getTurnplateManage:function(){n.push({name:"turnplateManage"})},getManageInfo:function(){n.push({name:"adminManage"})},getBanInfo:function(){n.push({name:"muteManage"})},closeShopping:function(){p.showShopping=!1},closeGift:function(){p.showPresent=!1},toShare:function(){return(0,Rn.mG)(e,void 0,void 0,(function(){var e,n;return(0,Rn.Jh)(this,(function(s){switch(s.label){case 0:e=window.location.href,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,C(e)];case 2:return s.sent(),Wn.Z.success("复制链接成功"),[3,4];case 3:return n=s.sent(),Wn.Z.fail(n),[3,4];case 4:return[2]}}))}))},startSvga:T,receiveMessage:D})}}),cs=(0,Kn.Z)(ls,[["render",function(e,n,s,a,r,l){var c=(0,i.up)("van-count-down"),u=(0,i.up)("VideoPlayer"),d=(0,i.up)("Barrage"),p=(0,i.up)("LiveLike"),g=(0,i.up)("van-button"),v=(0,i.up)("Picker"),f=(0,i.up)("Shopping"),h=(0,i.up)("Present"),m=(0,i.up)("van-uploader"),w=(0,i.up)("van-action-sheet"),y=(0,i.up)("van-dialog");return(0,i.wg)(),(0,i.iD)("div",B,[(0,i._)("div",T,[(0,i._)("div",D,[(0,i._)("div",S,[(0,i._)("div",C,[P,(0,i._)("div",E,[(0,i._)("span",L,(0,t.zw)(e.liveTitle),1)])]),(0,i._)("div",{class:"rank",onClick:n[0]||(n[0]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getRankInfo&&e.getRankInfo.apply(e,n)})},F)]),(0,i._)("div",A,[(0,i._)("div",x,[(0,i._)("div",{class:"introduce-bottom-left",onClick:n[1]||(n[1]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.switchLiveInfo&&e.switchLiveInfo.apply(e,n)})},[e.isDescribe?((0,i.wg)(),(0,i.iD)("div",j,R)):((0,i.wg)(),(0,i.iD)("div",M,z)),e.isDescribe?((0,i.wg)(),(0,i.iD)("img",G)):((0,i.wg)(),(0,i.iD)("img",q))]),(0,i._)("div",Z,[e.liveBrowse?((0,i.wg)(),(0,i.iD)("div",W,[U,(0,i._)("span",O,(0,t.zw)(e.liveBrowse),1)])):(0,i.kq)("v-if",!0),e.liveCount?((0,i.wg)(),(0,i.iD)("div",N,[$,(0,i._)("span",J,(0,t.zw)(e.liveCount),1)])):(0,i.kq)("v-if",!0)])]),e.showPlive?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"photo",onClick:n[2]||(n[2]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getPliveInfo&&e.getPliveInfo.apply(e,n)})},V)):(0,i.kq)("v-if",!0)]),(0,i._)("div",Y,[(0,i.Wm)(c,{style:{opacity:"0"},time:e.warmTime,onFinish:e.warmFinish},null,8,["time","onFinish"])])])]),(0,i._)("div",K,[(0,i._)("div",X,[(0,i._)("div",Q,[(0,i._)("div",ee,[e.liveStatus?((0,i.wg)(),(0,i.j4)(u,{key:1,ref:"video",showPushStream:e.showPushStream,videoSource:e.videoSource,videoSrc:e.videoSrc},null,8,["showPushStream","videoSource","videoSrc"])):((0,i.wg)(),(0,i.iD)("img",ne))],512),(0,i._)("div",{class:"information",style:(0,t.j5)({bottom:233+e.sendHeight+23+"px"})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.givePresentList,(function(n){return(0,i.wg)(),(0,i.iD)("div",{class:(0,t.C_)(["container","animate__animated",e.showAccess?"animate__fadeInRight":"animate__fadeOutLeft"]),key:n.id},[(0,i._)("img",{class:"profile",src:n.avatar,alt:""},null,8,se),(0,i._)("div",ie,[(0,i._)("span",te,(0,t.zw)(n.realname)+"：",1),(0,i._)("span",oe,"送"+(0,t.zw)(n.name)+" *1",1)]),(0,i._)("div",ae,[(0,i._)("img",{src:n.icon,alt:""},null,8,re)])],2)})),128))],4)]),e.showPresent?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",le,[(0,i._)("div",ce,[(0,i._)("div",ue,[(0,i._)("div",de,[pe,(0,i._)("div",ge,[(0,i._)("span",ve,(0,t.zw)(e.liveTitle),1)])])]),(0,i._)("div",fe,[(0,i._)("div",{class:"introduce-bottom-left",onClick:n[3]||(n[3]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.switchLiveInfo&&e.switchLiveInfo.apply(e,n)})},[e.isDescribe?((0,i.wg)(),(0,i.iD)("div",we,ye)):((0,i.wg)(),(0,i.iD)("div",he,me)),e.isDescribe?((0,i.wg)(),(0,i.iD)("img",be)):((0,i.wg)(),(0,i.iD)("img",_e))]),(0,i._)("div",ke,[(0,i._)("div",He,[Ie,(0,i._)("span",Be,(0,t.zw)(e.liveBrowse),1)])])])],512),e.isDescribe?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"describe",style:(0,t.j5)({height:e.describeHeight}),onTouchmove:n[4]||(n[4]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.handleTouch&&e.handleTouch.apply(e,n)})},[(0,i._)("span",{class:"message",innerHTML:e.liveDescribe},null,8,Te)],36)):(0,i.kq)("v-if",!0),e.isDescribe?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",{key:1,class:"review",style:(0,t.j5)({"padding-bottom":e.goodsHeight+"px",bottom:e.isExpression?e.sendHeight+160+"px":e.sendHeight+"px"})},[e.movieHeight?((0,i.wg)(),(0,i.j4)(d,{key:0,ref:"barrage",onInputBlur:e.inputBlur,isExpression:e.isExpression,commentMessage:e.message,movieHeight:e.movieHeight,introduceHeight:e.introduceHeight,goodsHeight:e.goodsHeight,sendHeight:e.sendHeight},null,8,["onInputBlur","isExpression","commentMessage","movieHeight","introduceHeight","goodsHeight","sendHeight"])):(0,i.kq)("v-if",!0),e.showAccess?((0,i.wg)(),(0,i.iD)("div",De,Se)):(0,i.kq)("v-if",!0),e.luckyInfo.isBag?((0,i.wg)(),(0,i.iD)("div",{key:2,class:"lucky_bag",onClick:n[5]||(n[5]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getLuckyBag&&e.getLuckyBag.apply(e,n)}),style:(0,t.j5)({bottom:e.goodsHeight+120+"px"})},[(0,i.Wm)(c,{class:"time",time:e.luckyInfo.countDownLong,format:"mm:ss",onFinish:e.finish},null,8,["time","onFinish"])],4)):(0,i.kq)("v-if",!0),e.turnplateInfo.isTurnplate?((0,i.wg)(),(0,i.iD)("div",{key:3,class:"lucky_turnplate",onClick:n[6]||(n[6]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getTurnplateInfo&&e.getTurnplateInfo.apply(e,n)}),style:(0,t.j5)({bottom:e.goodsHeight+50+"px"})},Ce,4)):(0,i.kq)("v-if",!0),(0,i.Wm)(p,{goodsHeight:e.goodsHeight,liveCount:e.liveCount},null,8,["goodsHeight","liveCount"]),e.showGoods?((0,i.wg)(),(0,i.iD)("div",Pe,[(0,i._)("div",Ee,[(0,i._)("img",{class:"picture",src:e.goodsInfo.goodsPicture?e.goodsInfo.goodsPicture.split(",")[0]:"",alt:""},null,8,Le),(0,i._)("div",Fe,[(0,i._)("span",Ae,(0,t.zw)(e.goodsInfo.goodsName),1),(0,i._)("div",xe,[(0,i._)("div",Me,[ze,(0,i._)("span",je,(0,t.zw)(e.goodsInfo.goodsPrice),1),(0,i._)("span",Re,"已售："+(0,t.zw)(e.goodsInfo.goodsSalesk),1)]),(0,i._)("div",{class:"info-right",onClick:n[7]||(n[7]=function(n){return e.getDetail(e.goodsInfo.goodsId,e.goodsInfo.goodsPicture)})},[(0,i.Wm)(g,{class:"buy"},{default:(0,i.w5)((function(){return[qe]})),_:1})])])])],512)])):(0,i.kq)("v-if",!0)],4))])),e.showPresent||e.isDescribe?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("div",Ge,[(0,i._)("div",Ze,[(0,i._)("div",We,[e.cartInfo.isCart?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"shopping",onClick:n[8]||(n[8]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getShoppingInfo&&e.getShoppingInfo.apply(e,n)})},Ue)):(0,i.kq)("v-if",!0),(0,i._)("div",{class:"input_box",style:(0,t.j5)(e.cartInfo.isCart?"width:2.24rem":"")},[(0,i.wy)((0,i._)("input",{ref:"refInput",class:"text",style:(0,t.j5)(e.cartInfo.isCart?"":"width:76%"),type:"text",name:"",id:"",placeholder:e.isForbidden&&"0"==e.chatType?"您已被禁言，不能发布消息！":e.isForbidden&&"1"==e.chatType?"全员禁言中，不能发布消息！":e.isForbidden&&!e.laborApp?"游客身份，不能发布消息！":"这里是输入的内容","onUpdate:modelValue":n[9]||(n[9]=function(n){return e.message=n}),onKeyup:n[10]||(n[10]=(0,o.D2)((function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.sendMessage&&e.sendMessage.apply(e,n)}),["enter"])),onFocus:n[11]||(n[11]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.onFocus&&e.onFocus.apply(e,n)}),disabled:e.isForbidden},null,44,Oe),[[o.nr,e.message]]),(0,i._)("img",{class:"smile",onClick:n[12]||(n[12]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.toggleExpression&&e.toggleExpression.apply(e,n)}),src:"https://res1.qdszgh.cn/%E9%B8%BF%E9%9B%81%E8%9E%8D%E7%9B%B4%E6%92%AD/expression.png",alt:""})],4)]),e.message?((0,i.wg)(),(0,i.iD)("div",Ne,[(0,i.Wm)(g,{class:"add",onClick:e.sendMessage},{default:(0,i.w5)((function(){return[$e]})),_:1},8,["onClick"])])):((0,i.wg)(),(0,i.iD)("div",Je,[(0,i._)("div",{class:"gift",onClick:n[13]||(n[13]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getGiftInfo&&e.getGiftInfo.apply(e,n)})},Ve),(0,i._)("div",{class:"more",onClick:n[14]||(n[14]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getMoreInfo&&e.getMoreInfo.apply(e,n)})},Ye)]))],512),(0,i.wy)((0,i._)("div",{class:"expression",onTouchmove:n[15]||(n[15]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.handleTouch&&e.handleTouch.apply(e,n)})},[(0,i.Wm)(v,{data:e.emojiIndex,set:"apple",showSearch:!1,showPreview:!1,showCategories:!1,onSelect:e.addEmoji},null,8,["data","onSelect"])],544),[[o.F8,e.isExpression]])],512)),(0,i.Wm)(f,{ref:"shopping",movieHeight:e.movieHeight,showShopping:e.showShopping,equipmentHeight:e.equipmentHeight,onCloseShopping:e.closeShopping},null,8,["movieHeight","showShopping","equipmentHeight","onCloseShopping"]),(0,i.Wm)(h,{ref:"present",movieHeight:e.movieHeight,showPresent:e.showPresent,equipmentHeight:e.equipmentHeight,onGetPresentList:e.getPresentList,onCloseGift:e.closeGift},null,8,["movieHeight","showPresent","equipmentHeight","onGetPresentList","onCloseGift"]),(0,i.Wm)(w,{show:e.showMore,"onUpdate:show":n[24]||(n[24]=function(n){return e.showMore=n}),round:!1},{default:(0,i.w5)((function(){return[(0,i._)("div",Ke,[(0,i._)("div",Xe,[(0,i._)("div",Qe,[(0,i._)("div",en,[nn,(0,i._)("span",sn,(0,t.zw)(e.goldCoin)+"金币",1)]),(0,i._)("span",{class:"close",onClick:n[16]||(n[16]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.onClose&&e.onClose.apply(e,n)})},"关闭")]),(0,i._)("div",tn,[(0,i._)("div",on,[an,(0,i._)("div",rn,[(0,i.Wm)(m,{class:"van-uploader","after-read":e.afterRead,"before-read":e.beforeRead,accept:"image/png,image/jpg,image/jpeg","max-count":1},{default:(0,i.w5)((function(){return[ln,cn]})),_:1},8,["after-read","before-read"])])]),(0,i._)("div",un,[dn,(0,i._)("div",pn,[(0,i.kq)(' <div class="gold_convert">\r\n                      <img src="@/assets/more/gold_convert.png" alt="" />\r\n                      <span class="message">金币兑换</span>\r\n                    </div> '),(0,i._)("div",{class:"winning_record",onClick:n[17]||(n[17]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getPrizeRecord&&e.getPrizeRecord.apply(e,n)})},gn),(0,i._)("div",{class:"give_record",onClick:n[18]||(n[18]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getGiveRecord&&e.getGiveRecord.apply(e,n)})},vn),(0,i._)("div",{class:"order_record",onClick:n[19]||(n[19]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getOrderRecord&&e.getOrderRecord.apply(e,n)})},fn),(0,i._)("div",{class:"share",onClick:n[20]||(n[20]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.toShare&&e.toShare.apply(e,n)})},hn)])]),"0"!=e.isAdmin?((0,i.wg)(),(0,i.iD)("div",mn,[wn,(0,i._)("div",yn,[(0,i._)("div",{class:"lucky_bag",onClick:n[21]||(n[21]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getLuckyManage&&e.getLuckyManage.apply(e,n)})},_n),(0,i.kq)(' <div class="turnplate" @click="getTurnplateManage">\r\n                      <img src="@/assets/more/turnplate.png" alt="" />\r\n                      <span class="message">抽奖管理</span>\r\n                    </div> '),(0,i._)("div",{class:"manager",onClick:n[22]||(n[22]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getManageInfo&&e.getManageInfo.apply(e,n)})},bn),(0,i._)("div",{class:"ban",onClick:n[23]||(n[23]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.getBanInfo&&e.getBanInfo.apply(e,n)})},kn)])])):(0,i.kq)("v-if",!0)])])])]})),_:1},8,["show"])])]),(0,i.Wm)(y,{class:"lucky_bag_dialog",show:e.showLuckyBag,"onUpdate:show":n[25]||(n[25]=function(n){return e.showLuckyBag=n}),showConfirmButton:!1,closeOnClickOverlay:!0},{default:(0,i.w5)((function(){return[(0,i._)("div",Hn,[In,(0,i._)("div",Bn,[Tn,(0,i.Wm)(c,{class:"time",time:e.luckyInfo.countDownLong,format:"mm:ss"},null,8,["time"]),Dn]),(0,i._)("div",Sn,[e.luckyInfo.isApply?((0,i.wg)(),(0,i.j4)(g,{key:0,class:"apply"},{default:(0,i.w5)((function(){return[Cn]})),_:1})):((0,i.wg)(),(0,i.j4)(g,{key:1,class:"apply",onClick:e.getApplyInfo},{default:(0,i.w5)((function(){return[Pn]})),_:1},8,["onClick"]))])])]})),_:1},8,["show"]),(0,i.Wm)(y,{class:"remind_dialog",show:e.showPrize,"onUpdate:show":n[27]||(n[27]=function(n){return e.showPrize=n}),showConfirmButton:!1},{default:(0,i.w5)((function(){return[(0,i._)("div",En,[(0,i._)("span",Ln,(0,t.zw)(e.prizeRemind),1),(0,i._)("span",Fn,(0,t.zw)(e.prizeInfo),1),(0,i.Wm)(g,{class:"confirm",onClick:n[26]||(n[26]=function(n){return e.showPrize=!1})},{default:(0,i.w5)((function(){return[An]})),_:1})])]})),_:1},8,["show"]),(0,i.Wm)(y,{class:"warning_dialog",show:e.showWarning,"onUpdate:show":n[28]||(n[28]=function(n){return e.showWarning=n}),showConfirmButton:!1},{default:(0,i.w5)((function(){return[(0,i._)("div",xn,[Mn,zn,(0,i.Wm)(g,{class:"confirm",onClick:e.playVideo},{default:(0,i.w5)((function(){return[jn]})),_:1},8,["onClick"])])]})),_:1},8,["show"])])}],["__scopeId","data-v-bc741be2"]])}}]);
//# sourceMappingURL=160.7cc3ef7f826639ae3ecb.js.map