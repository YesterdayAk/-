"use strict";(self.webpackChunklabor_live=self.webpackChunklabor_live||[]).push([[232],{8851:(e,i,n)=>{function t(e,i){void 0===i&&(i=3e3);var n=null;return function(){var t=this,a=arguments;n&&clearTimeout(n),n=setTimeout((function(){e.apply(t,a)}),i)}}function a(e,i,n){return void 0===n&&(n=30),e.scrollHeight-e.scrollTop<=i+n}function o(){var e=!1,i=window.navigator.userAgent,n=window.screen.width+","+window.screen.height;return(i.indexOf("MicroMessenger")>-1||labor.isApp())&&i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&["375,812","414,896","390,844","428,926"].indexOf(n)>-1&&(e=!0),e}n.d(i,{Ds:()=>t,ct:()=>o,zK:()=>a})},5232:(e,i,n)=>{n.r(i),n.d(i,{default:()=>E});var t=n(6252),a=n(3577),o=n(4127),r={class:"guide"},s={class:"headerBox"},c={class:"header"},l={class:"banner",ref:"banner"},u=["src"],d={class:"introduceBox"},v={class:"introduce"},f={class:"information",ref:"information"},g={class:"information-top"},b={class:"stream"},h={class:"stream-theme"},p={class:"title"},A={class:"information-bottom"},m={class:"info"},H={class:"browse"},w=function(e){return(0,t.dD)("data-v-523a61e7"),e=e(),(0,t.Cn)(),e}((function(){return(0,t._)("img",{src:o,alt:""},null,-1)})),S={class:"number"},I={class:"contentBox"},k={class:"content"},_=["innerHTML"],C={class:"content-bottom"},j={class:"operation",ref:"operation"},T={class:"operation-top"},R=(0,t.Uk)("已订阅"),q=(0,t.Uk)("订阅直播");var B=n(655),K=n(5759),M=n(5684),O=n(2262),Q=n(8851),U=n(1751),D=(n(4333),n(4949));const L=(0,t.aZ)({name:"guide",setup:function(){var e=this,i=((0,D.tv)(),(0,D.yj)(),(0,t.FN)().appContext.config.globalProperties.$axios),n=(0,K.H)(),a=(0,M.Jk)(n).liveId,o=(0,O.qj)({bannerHeight:0,informationHeight:0,operationHeight:0,describeHeight:"",isBigScreen:!1,liveInfo:{cover:(0,O.iH)(""),name:(0,O.iH)(""),viewPersonTime:(0,O.iH)(""),introduce:(0,O.iH)("")},subscribeState:(0,O.iH)(!1)}),r=(0,O.iH)(null),s=(0,O.iH)(null),c=(0,O.iH)(null),l=function(){r.value&&(o.bannerHeight=r.value.offsetHeight),s.value&&(o.informationHeight=s.value.offsetHeight),c.value&&(o.operationHeight=c.value.offsetHeight),o.isBigScreen=(0,Q.ct)(),o.isBigScreen?o.describeHeight=window.innerHeight-o.bannerHeight-o.informationHeight-o.operationHeight-44-35+"px":o.describeHeight=window.innerHeight-o.bannerHeight-o.informationHeight-o.operationHeight-44+"px"};function u(){i.get(i.defaults.baseURL+"/jeecg-boot/live/api/getLive",{params:{liveId:a.value}}).then((function(e){200==e.data.code&&(o.liveInfo={cover:e.data.result.cover,name:e.data.result.name,viewPersonTime:e.data.result.viewPersonTime,introduce:e.data.result.introduce})}))}function d(){i.get(i.defaults.baseURL+"/jeecg-boot/live/api/getMySubscribeLiveFlag",{params:{liveId:a.value}}).then((function(e){200==e.data.code&&(o.subscribeState=e.data.result)}))}return(0,t.bv)((function(){return(0,B.mG)(e,void 0,void 0,(function(){return(0,B.Jh)(this,(function(e){switch(e.label){case 0:return[4,l()];case 1:return e.sent(),[4,u()];case 2:return e.sent(),[4,d()];case 3:return e.sent(),[2]}}))}))})),(0,B.pi)((0,B.pi)({},(0,O.BK)(o)),{banner:r,information:s,operation:c,elementHeight:l,getLiveInfo:u,getSubscribeState:d,getSubscribeInfo:function(){i.get(i.defaults.baseURL+"/jeecg-boot/live/api/liveSubscribe",{params:{liveId:a.value}}).then((function(e){200==e.data.code?(o.subscribeState=!0,(0,U.Z)("直播订阅成功，开播将通过短信通知")):(0,U.Z)("解锁全部功能，请登录“齐鲁工惠app”观看直播")}))},handleTouch:function(e){e._isScroller=!0}})}});const E=(0,n(3744).Z)(L,[["render",function(e,i,n,o,B,K){var M=(0,t.up)("van-button");return(0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",s,[(0,t._)("div",c,[(0,t._)("div",l,[(0,t._)("img",{src:e.liveInfo.cover,alt:""},null,8,u)],512)])]),(0,t._)("div",d,[(0,t._)("div",v,[(0,t._)("div",f,[(0,t._)("div",g,[(0,t._)("div",b,[(0,t._)("div",h,[(0,t._)("span",p,(0,a.zw)(e.liveInfo.name),1)])])]),(0,t._)("div",A,[(0,t._)("div",m,[(0,t._)("div",H,[w,(0,t._)("span",S,(0,a.zw)(e.liveInfo.viewPersonTime),1)])])])],512)])]),(0,t._)("div",I,[(0,t._)("div",k,[(0,t._)("div",{class:"content-top",style:(0,a.j5)({height:e.describeHeight}),onTouchmove:i[0]||(i[0]=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return e.handleTouch&&e.handleTouch.apply(e,i)})},[(0,t._)("span",{class:"message",innerHTML:e.liveInfo.introduce},null,8,_)],36),(0,t._)("div",C,[(0,t._)("div",j,[(0,t._)("div",T,[e.subscribeState?((0,t.wg)(),(0,t.j4)(M,{key:0,class:"subscribe"},{default:(0,t.w5)((function(){return[R]})),_:1})):((0,t.wg)(),(0,t.j4)(M,{key:1,class:"subscribe",onClick:e.getSubscribeInfo},{default:(0,t.w5)((function(){return[q]})),_:1},8,["onClick"]))])],512)])])])])}],["__scopeId","data-v-523a61e7"]])},4127:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAnBJREFUSEvtVTFoFFEQfe/vBq9IkUIwxQUsFCwsErSwEETQQlCiGDBCQANyl08EE8RCbK4RkRSJ4LGbS6FiwAiKioqFNmI6A0awEEwheJAIFimuOMjtjPzjLiR7u8k1qXSKLf7Mf2/mzcxfYoeNO4yPf4igUChkstnsHidpuVz+XSgUqu3ImypRsVjs7Ojo6FfVAQCHAWRjgGUACySfra2tvRodHa0kEbYQOGDf968DGAPQ1U6WAFYBTC0vL9+NV7aJYGZm5pCIzAHYlwC8oqoL7pykq6g7Iea7qg6OjIx8bfrWCcIw7AcwS7IzdrGiqjdIvgdwtuF7qaonSU4A2BSvqhWSg/l8/m09GfcplUrHROQDST+elaqeArCLpKss0/C7Bg+oakTyXcKdmjHmRC6X+8hisdjted4Xki0lq+qbKIou+r7/K6Efq7VarcfzvCckTyeQrERR1Mfp6enHAIaSmqmqVkSWPM9z8rSYiBwneYBkkDIMs47gE4CjKQDDAP4YY16n+M8A2G2MeZBCMM8gCA4aYz5v0Hdj7BSA2wCcRE39m37Xhx4AtxojHedw/r56k4MguJyShZvv/QAuALgfQ7gK4CmAH0n7IiLD1tqH62NaKpWuqarLOG7zAM5FUdRrjDnvnCLy3PO8RQAvkuQlOZbL5e6tj2kTMQzDoUbD4rvgKglJ1hdNRI6QvJI0WSJirbVupOvW8lQEQbDXGHMHwGBK49KO50TkprX258aA1MfONZ/kJZJue5OeDoezpKpuqx9Za78lMbf1w5mcnOzKZDK9JOuTpKrVarW6OD4+7qTb0toi2A5kK/9/gm3V+wvGQOPfju9khAAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=232.a9b1768cdf54e50e2e31.js.map