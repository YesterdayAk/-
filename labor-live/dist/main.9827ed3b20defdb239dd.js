(self.webpackChunklabor_live=self.webpackChunklabor_live||[]).push([[179],{2982:(e,t,n)=>{"use strict";var o=n(9963),i=n(6252);const r={},a=(0,n(3744).Z)(r,[["render",function(e,t){var n=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(n)}],["__scopeId","data-v-3b44af21"]]);var u=n(5684),s=n(5929),c=(0,u.WB)();c.use(s.Z);const l=c;var d=n(4949),m=n(5759),p=n(9669),h=n.n(p),f=n(1751),b=(n(4333),[{path:"/",redirect:"/live"},{path:"/live",name:"live",meta:{title:"观看直播"},component:function(){return Promise.all([n.e(216),n.e(872),n.e(995),n.e(160)]).then(n.bind(n,4330))}},{path:"/home",name:"home",meta:{title:"观看直播"},component:function(){return Promise.all([n.e(216),n.e(872),n.e(995),n.e(474)]).then(n.bind(n,6899))}},{path:"/guide",name:"guide",meta:{title:"观看直播"},component:function(){return Promise.all([n.e(216),n.e(232)]).then(n.bind(n,5232))}},{path:"/confirmOrder",name:"confirmOrder",meta:{title:"确认订单"},component:function(){return n.e(340).then(n.bind(n,6340))}},{path:"/giveRecord",name:"giveRecord",meta:{title:"赠送记录"},component:function(){return Promise.all([n.e(216),n.e(733)]).then(n.bind(n,1733))}},{path:"/orderRecord",name:"orderRecord",meta:{title:"订单记录"},component:function(){return n.e(693).then(n.bind(n,8693))}},{path:"/prizeRecord",name:"prizeRecord",meta:{title:"中奖记录"},component:function(){return Promise.all([n.e(216),n.e(378)]).then(n.bind(n,7378))}},{path:"/prizeRecordDetail/:id",name:"prizeRecordDetail",meta:{title:"获奖详情"},component:function(){return n.e(754).then(n.bind(n,4754))}},{path:"/lottery",name:"lottery",meta:{title:"幸运抽奖"},component:function(){return n.e(922).then(n.bind(n,9302))}},{path:"/receiveAddress",name:"receiveAddress",meta:{title:"幸运抽奖"},component:function(){return Promise.all([n.e(216),n.e(549)]).then(n.bind(n,5549))}},{path:"/rank",name:"rank",meta:{title:"排行榜"},component:function(){return Promise.all([n.e(216),n.e(584)]).then(n.bind(n,5738))}},{path:"/forbidden",name:"forbidden",component:function(){return n.e(863).then(n.bind(n,6863))}},{path:"/remind",name:"remind",component:function(){return n.e(825).then(n.bind(n,1825))}},{path:"/luckyManage",name:"luckyManage",meta:{title:"福袋管理"},component:function(){return Promise.all([n.e(216),n.e(59)]).then(n.bind(n,4059))}},{path:"/turnplateManage",name:"turnplateManage",meta:{title:"抽奖管理"},component:function(){return Promise.all([n.e(216),n.e(944)]).then(n.bind(n,5944))}},{path:"/winUser/:id",name:"winUser",meta:{title:"中奖名单"},component:function(){return n.e(996).then(n.bind(n,6996))}},{path:"/joinUser/:id",name:"joinUser",meta:{title:"参与名单"},component:function(){return n.e(700).then(n.bind(n,7700))}},{path:"/muteManage",name:"muteManage",meta:{title:"禁言管理"},component:function(){return Promise.all([n.e(216),n.e(111)]).then(n.bind(n,111))}},{path:"/adminManage",name:"adminManage",meta:{title:"管理员管理"},component:function(){return Promise.all([n.e(216),n.e(191)]).then(n.bind(n,5191))}},{path:"/plive",name:"plive",meta:{title:"图文直播"},component:function(){return Promise.all([n.e(216),n.e(872),n.e(581)]).then(n.bind(n,1098))}}]),v=(0,d.p7)({history:(0,d.r5)(),routes:b});function g(e){return new Promise((function(t,n){h().post(h().defaults.baseURL+"/jeecg-boot/sys/phoneRegisterOrLogin",e).then((function(e){if(e.data.result.token){var o=(0,m.H)(),i=(0,u.Jk)(o);i.token,i.userId,i.userPhone;o.$patch({token:e.data.result.token,userId:e.data.result.userInfo.id,userPhone:e.data.result.userInfo.phone}),t("success")}else n()})).catch((function(){n()}))}))}v.beforeEach((function(e,t,n){var o=e.meta;document.title=o.title?o.title:"工会直播";var i=(0,m.H)(),r=(0,u.Jk)(i),a=r.token;r.liveId;if(e.query.liveId&&i.$patch({liveId:String(e.query.liveId)}),i.$patch({token:i.token}),a.value)n();else{var s=window.sessionStorage.getItem("userInfo");s?g(s).then((function(){n()})).catch((function(){f.Z.fail("登录失败"),n()})):"/forbidden"!=e.path&&"/remind"!==e.path&&labor.isApp()?new Promise((function(e,t){labor.getLaborStatus((function(n){""==n.laborStatus||0==n.laborStatus?t("/forbidden"):labor.getUserInfo((function(n){if("no data"==n.error)t("/remind");else{var o={memberId:n.memberId,fullName:n.fullName,userPhone:n.userPhone,laborId:n.laborId,laborName:n.laborName,userIcon:n.userIcon,sex:n.sex,laborBirthday:n.birthday,districtCode:n.districtCode?n.districtCode.substring(0,6):n.laborCode.substring(0,6),laborCode:n.laborCode};e(o)}}))}))})).then((function(e){var t=e;window.sessionStorage.setItem("userInfo",JSON.stringify(t)),g(t).then((function(){n()})).catch((function(){f.Z.fail("登录失败"),n()}))})).catch((function(e){n(e)})):new Promise((function(e,t){h().post(h().defaults.baseURL+"/jeecg-boot/sys/phoneAnonymousLogin").then((function(n){if(n.data.result.token){var o=(0,m.H)(),i=(0,u.Jk)(o);i.token,i.userId,i.laborApp,o.$patch({token:n.data.result.token,userId:n.data.result.userInfo.id,laborApp:!1}),e("success")}else t()})).catch((function(){t()}))})).then((function(){n()}))}}));const P=v;n(5655);var k=n(8739),H=(n(7601),n(7516)),I=(n(9724),n(7986)),Z=(n(3542),n(6410)),y=(n(309),n(5874)),w=(n(9110),n(7552)),R=(n(2462),n(6988)),A=(n(5773),n(5382)),C=(n(6882),n(5182)),U=(n(7141),n(90)),z=(n(3787),n(1148)),S=(n(1212),n(9667)),j=(n(3474),n(9233)),N=(n(2355),n(1803)),L=(n(2740),n(8032)),M=(n(3290),n(5066)),T=(n(6343),n(7629)),x=(n(6293),n(5869)),O=(n(5881),n(8263)),_=(n(9989),n(7610)),B=(n(5739),n(2339),n(1640),n(5641)),E=n(1610),J=(0,o.ri)(a);J.config.globalProperties.$axios=E.ZP,J.use(l).use(P).use(y.Z).use(w.Z).use(f.Z).use(R.Z).use(A.Z).use(C.Z).use(U.Z).use(z.Z).use(S.Z).use(j.Z).use(N.Z).use(L.Z).use(I.Z).use(Z.Z).use(k.Z).use(H.Z).use(M.Z).use(T.Z).use(x.Z).use(O.Z).use(_.Z).use(B.ZP).mount("#app")},5655:()=>{"use strict";document.documentElement.style.fontSize=document.documentElement.clientWidth/3.75+"px",window.onresize=function(){document.documentElement.style.fontSize=document.documentElement.clientWidth/3.75+"px"}},5759:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var o=n(2262),i=n(6252),r=(0,n(5684).Q_)("user",(function(){var e=(0,o.iH)(""),t=(0,o.iH)(""),n=(0,o.iH)(""),r=(0,o.iH)(""),a=(0,o.iH)(""),u=(0,o.iH)(""),s=(0,o.iH)(""),c=(0,o.iH)(""),l=(0,o.iH)(""),d=(0,o.iH)(!0),m=(0,o.iH)(!0),p=(0,o.iH)(1),h=(0,o.iH)([]),f=(0,o.iH)([]),b=(0,o.iH)({shopName:(0,o.iH)(""),buyNum:(0,o.iH)(0),goodsName:(0,o.iH)(""),picture:(0,o.iH)(""),goodsId:(0,o.iH)(0),skuPrice:(0,o.iH)(0),skuId:(0,o.iH)(0),specName:(0,o.iH)("")}),v=(0,i.Fl)((function(){return 2*p.value}));return{token:e,liveId:t,userId:n,userPhone:r,isAdmin:a,liveTitle:u,liveBrowse:s,liveDescribe:c,screenSizeType:l,laborApp:d,isFirstApp:m,count:p,commentList:h,doubleCount:v,richTxtList:f,buyGoodsInfo:b}}),{persist:{enabled:!0}})},1610:(e,t,n)=>{"use strict";n.d(t,{B7:()=>c,U2:()=>u,ZP:()=>l,v_:()=>s});var o=n(9669),i=n.n(o),r=n(5759),a=n(5684);function u(e,t){return void 0===t&&(t={}),new Promise((function(n,o){i().get(e,{params:t}).then((function(e){n(e)})).catch((function(e){o(e)}))}))}function s(e,t){return void 0===t&&(t={}),new Promise((function(n,o){i().post(e,t).then((function(e){n(e)}),(function(e){o(e)}))}))}function c(e,t){return void 0===t&&(t={}),i()({url:e,data:t,method:"post"})}i().defaults.baseURL="https://testlivephone.qdszgh.cn",i().defaults.timeout=3e5,i().interceptors.request.use((function(e){var t=(0,r.H)(),n=(0,a.Jk)(t).token;return n.value?e.headers={"Content-Type":"application/json;charset=UTF-8","X-Access-Token":n.value,Authorization:"Bearer"+n.value}:e.headers={"Content-Type":"application/json;charset=UTF-8"},e}),(function(e){return Promise.reject(e)})),i().interceptors.response.use((function(e){if(200==e.status)return Promise.resolve(e)}),(function(e){return Promise.reject(e)}));const l=i()},5893:()=>{}},e=>{e.O(0,[216],(()=>{return t=2982,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=main.9827ed3b20defdb239dd.js.map