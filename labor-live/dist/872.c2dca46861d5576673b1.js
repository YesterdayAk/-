"use strict";(self.webpackChunklabor_live=self.webpackChunklabor_live||[]).push([[872],{8851:(e,t,n)=>{function i(e,t){void 0===t&&(t=3e3);var n=null;return function(){var i=this,o=arguments;n&&clearTimeout(n),n=setTimeout((function(){e.apply(i,o)}),t)}}function o(e,t,n){return void 0===n&&(n=30),e.scrollHeight-e.scrollTop<=t+n}function a(){var e=!1,t=window.navigator.userAgent,n=window.screen.width+","+window.screen.height;return(t.indexOf("MicroMessenger")>-1||labor.isApp())&&t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&["375,812","414,896","390,844","428,926"].indexOf(n)>-1&&(e=!0),e}n.d(t,{Ds:()=>i,ct:()=>a,zK:()=>o})},5296:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(5759),o=n(5684),a=n(1751),r=(n(4333),n(2300)),c=(0,i.H)(),s=(0,o.Jk)(c),l=s.liveId,A=s.userId,u={websocket:null,connectURL:"wss://websocket.qdszgh.cn:8443/jeecg-boot/testLiveWebsocket/"+l.value+"/"+A.value,socket_open:!1,hearbeat_timer:null,hearbeat_interval:6e4,is_reconnect:!0,reconnect_count:3,reconnect_current:1,reconnect_number:0,reconnect_timer:null,reconnect_interval:5e3,init:function(e){if(!("WebSocket"in window))return a.Z.fail("浏览器不支持websocket"),null;u.websocket=new WebSocket(u.connectURL),u.websocket.onmessage=function(t){e&&e(t)},u.websocket.onclose=function(e){clearInterval(u.hearbeat_interval),u.socket_open=!1,u.is_reconnect&&(u.reconnect_timer=setTimeout((function(){if(u.reconnect_current>u.reconnect_count)return clearTimeout(u.reconnect_timer),void(u.is_reconnect=!1);u.reconnect_current++,u.reconnect()}),u.reconnect_interval))},u.websocket.onopen=function(){u.socket_open=!0,u.is_reconnect=!0,u.heartbeat()},u.websocket.onerror=function(){}},send:function(e,t){void 0===t&&(t=null),u.websocket.readyState==u.websocket.OPEN?(u.websocket.send(JSON.stringify(e)),t&&t()):(clearInterval(u.hearbeat_timer),u.reconnect_number,u.reconnect_number++)},receive:function(e){var t=r.DS.decode(JSON.parse(e.data));return t=JSON.parse(t)},heartbeat:function(){u.hearbeat_timer&&clearInterval(u.hearbeat_timer),u.hearbeat_timer=setInterval((function(){var e={encryption_type:"base64",data:r.DS.encode(JSON.stringify({content:"ping"}))};u.send(e)}),u.hearbeat_interval)},close:function(){clearInterval(u.hearbeat_interval),u.is_reconnect=!1,u.websocket.close()},reconnect:function(){u.websocket&&!u.is_reconnect&&u.close(),u.init(null)}};const g=u},8935:(e,t,n)=>{n.d(t,{Z:()=>R});var i=n(6252),o=n(3577),a=n(9963),r=function(e){return(0,i.dD)("data-v-4207be0e"),e=e(),(0,i.Cn)(),e},c={class:"contentBox"},s={class:"content"},l={class:"content-top"},A=r((function(){return(0,i._)("span",{class:"title"},"赠送主播一个小礼物吧~",-1)})),u={class:"information"},g=["onClick"],p=["src"],d={class:"price"},f={class:"gift-bottom"},v=(0,i.Uk)("赠送"),w={class:"content-bottom"},m={class:"info"},b=r((function(){return(0,i._)("span",{class:"title"},"剩余：",-1)})),h={class:"number"};var k=n(655),C=n(2262),Q=n(5759),E=n(5684),S=n(5296),U=n(1751),H=(n(4333),n(6486));const B=(0,i.aZ)({name:"present",props:{movieHeight:Number,showPresent:Boolean,equipmentHeight:Number},setup:function(e,t){var n=(0,i.FN)().appContext.config.globalProperties.$axios,o=(0,Q.H)(),a=(0,E.Jk)(o).laborApp,r=(0,C.qj)({presentWindowHeight:{height:""},presentListHeight:{height:""},presentList:(0,C.iH)([]),active:(0,C.iH)(""),goldCoin:(0,C.iH)(0),laborApp:!0});function c(){r.presentWindowHeight.height=e.equipmentHeight-e.movieHeight+"px",r.presentListHeight.height=e.equipmentHeight-e.movieHeight-47-51+"px"}function s(){n.get(n.defaults.baseURL+"/jeecg-boot/gift/api/list").then((function(e){200==e.data.code&&(r.presentList=e.data.result)}))}function l(){r.active="",t.emit("closeGift")}(0,i.YP)((function(){return e.showPresent}),(function(e){window.addEventListener("resize",c())})),s();var A=H.throttle((function(e,t){if(r.laborApp=a.value,r.laborApp){if(t>r.goldCoin)return(0,U.Z)({message:"金币不足！",className:"fail"}),!1;var n={giftId:e,pushType:"3"};S.Z.send(n),l(),(0,U.Z)({message:"赠送成功！",className:"success"})}else(0,U.Z)("解锁全部功能，请登录“齐鲁工惠app”观看直播")}),3e3,{leading:!0,trailing:!1});return(0,i.Ah)((function(){window.removeEventListener("resize",c())})),(0,k.pi)((0,k.pi)({},(0,C.BK)(r)),{getPresentHeight:c,getPresentInfo:s,getMyCoin:function(){n.get(n.defaults.baseURL+"/jeecg-boot/user/api/getMyGoldCoin").then((function(e){200==e.data.code&&e.data.result&&(r.goldCoin=e.data.result)}))},getActiveInfo:function(e){r.active=e},handleTouch:function(e){e._isScroller=!0},onClose:l,givePresent:A})}});const R=(0,n(3744).Z)(B,[["render",function(e,t,n,r,k,C){var Q=(0,i.up)("van-button");return e.showPresent?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"present animate__animated animate__fadeInUp",style:(0,o.j5)(e.presentWindowHeight)},[(0,i._)("div",c,[(0,i._)("div",s,[(0,i._)("div",l,[A,(0,i._)("span",{class:"close",onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.onClose&&e.onClose.apply(e,t)})},"关闭")]),(0,i._)("div",{class:"content-center",onTouchmove:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.handleTouch&&e.handleTouch.apply(e,t)}),style:(0,o.j5)(e.presentListHeight)},[(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.presentList,(function(t){return(0,i.wg)(),(0,i.iD)("div",{class:"container",key:t.id},[(0,i._)("div",{class:"gift",onClick:function(n){return e.getActiveInfo(t.id)}},[(0,i._)("div",{class:(0,o.C_)(["gift-top",t.id==e.active?"active":""])},[(0,i._)("img",{src:t.icon,alt:""},null,8,p),(0,i.wy)((0,i._)("span",{class:"title"},(0,o.zw)(t.name),513),[[a.F8,t.id!=e.active]]),(0,i._)("span",d,(0,o.zw)(t.coin)+"金币",1)],2),(0,i.wy)((0,i._)("div",f,[(0,i.Wm)(Q,{class:"give",onClick:function(n){return e.givePresent(t.id,t.coin)}},{default:(0,i.w5)((function(){return[v]})),_:2},1032,["onClick"])],512),[[a.F8,t.id==e.active]])],8,g)])})),128))])],36),(0,i._)("div",w,[(0,i._)("div",m,[b,(0,i._)("span",h,(0,o.zw)(e.goldCoin)+"金币",1)])])])])],4)):(0,i.kq)("v-if",!0)}],["__scopeId","data-v-4207be0e"]])},4127:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAnBJREFUSEvtVTFoFFEQfe/vBq9IkUIwxQUsFCwsErSwEETQQlCiGDBCQANyl08EE8RCbK4RkRSJ4LGbS6FiwAiKioqFNmI6A0awEEwheJAIFimuOMjtjPzjLiR7u8k1qXSKLf7Mf2/mzcxfYoeNO4yPf4igUChkstnsHidpuVz+XSgUqu3ImypRsVjs7Ojo6FfVAQCHAWRjgGUACySfra2tvRodHa0kEbYQOGDf968DGAPQ1U6WAFYBTC0vL9+NV7aJYGZm5pCIzAHYlwC8oqoL7pykq6g7Iea7qg6OjIx8bfrWCcIw7AcwS7IzdrGiqjdIvgdwtuF7qaonSU4A2BSvqhWSg/l8/m09GfcplUrHROQDST+elaqeArCLpKss0/C7Bg+oakTyXcKdmjHmRC6X+8hisdjted4Xki0lq+qbKIou+r7/K6Efq7VarcfzvCckTyeQrERR1Mfp6enHAIaSmqmqVkSWPM9z8rSYiBwneYBkkDIMs47gE4CjKQDDAP4YY16n+M8A2G2MeZBCMM8gCA4aYz5v0Hdj7BSA2wCcRE39m37Xhx4AtxojHedw/r56k4MguJyShZvv/QAuALgfQ7gK4CmAH0n7IiLD1tqH62NaKpWuqarLOG7zAM5FUdRrjDnvnCLy3PO8RQAvkuQlOZbL5e6tj2kTMQzDoUbD4rvgKglJ1hdNRI6QvJI0WSJirbVupOvW8lQEQbDXGHMHwGBK49KO50TkprX258aA1MfONZ/kJZJue5OeDoezpKpuqx9Za78lMbf1w5mcnOzKZDK9JOuTpKrVarW6OD4+7qTb0toi2A5kK/9/gm3V+wvGQOPfju9khAAAAABJRU5ErkJggg=="},1077:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAActJREFUOE+1lb9LG2EYxz+PSQWx7dBNlNIlpTkXhQ6CDma3S8bqKo1QWnDoH+EgaAUjOKqbWXQ3g4JDoS5eSrPE0uDmUPtD0qSPvK9355t4jaLxpuO5733u+zzP+zwnxFw6QA+PyaJkEV4CfYHsGOUTQoEfFOQ7f1pfl9aADvKaf8wh9Md9LIopVbr4IIdsuLomoHosAO8CwQGwQp0iNSo21s0zkowDb4ChQLcoPu9DaAR0YHWUGSmx2s6heuSAj0ASiKAWaNNU1oE6kBGf3bbpBg/VYwzYsVBh0qQvtgGPKNuaKdPXObtS8wuny5ianpIS9ZgE1oAD8Rl2X9A0KWAeIWPjat3MSolyk87jc1DTKdE0mwhZYEZ88qHQwoR94EmLqxOUERca1NO4LBiHR8BT6qTlK18c4BbCRGwtlW0p8SrSPucFSUrANwOsAQ/4TY9UOItEHj+B3v8055f4PHS05v4U+HsvwA6nfNmUnPis3LIpZnLyYVM6fGzcgw1NLm84LaG7i4N9ZfSEcTlk70awQUZRik2j57Q+3DRmnt+69YyDq2c3zlLscoiBmpBZX3kaFElQtZoG/STs+jLz2359RdBOLtgIeodfwDnHENhpU2FbVgAAAABJRU5ErkJggg=="},2805:(e,t,n)=>{e.exports=n.p+"5f29899ae5e05e826845.png"},2536:e=>{e.exports="data:image/png;base64,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"},2853:(e,t,n)=>{e.exports=n.p+"df26eab00b3a2ea442e2.png"},4994:(e,t,n)=>{e.exports=n.p+"b8762d3bf3502d89f682.png"}}]);
//# sourceMappingURL=872.c2dca46861d5576673b1.js.map