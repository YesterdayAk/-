"use strict";(self.webpackChunklabor_live=self.webpackChunklabor_live||[]).push([[922],{9302:(t,i,e)=>{e.r(i),e.d(i,{default:()=>U});var r=e(6252),a=e(3577),n=e(2262);const s=e.p+"e1d5599fbcc7b43321b9.png";var o=e(4949),l=e(5759),c=e(5684),u=e(1751),p=(e(4333),function(t){return(0,r.dD)("data-v-08ea5c14"),t=t(),(0,r.Cn)(),t}),d={class:"contentBox"},f={class:"content"},z=[p((function(){return(0,r._)("span",{class:"receive"},"收货",-1)})),p((function(){return(0,r._)("span",{class:"site"},"地址",-1)}))],v=p((function(){return(0,r._)("div",{class:"content-center"},[(0,r._)("div",{class:"sign"},[(0,r._)("img",{src:s,alt:""})])],-1)})),h={class:"content-bottom"},b={class:"introduceBox"},g={class:"introduce"},m=p((function(){return(0,r._)("div",{class:"introduce-top"},[(0,r._)("div",{class:"label"},[(0,r._)("span",{class:"title"},"抽奖活动说明")])],-1)})),T={class:"introduce-center"},_={class:"activity"},w={class:"information"},y={class:"name"},L={key:0,class:"time"},x={class:"join_count"},I={class:"award_count"},S={class:"rule"},k=["innerHTML"],F={class:"remind"},C={class:"title"},H={class:"message"},E=(0,r.Uk)("确认");const A=(0,r.aZ)({setup:function(t){var i=(0,l.H)(),e=(0,c.Jk)(i).liveId,s=(0,n.qj)({height:""});function p(t){t._isScroller=!0}function A(){s.height=window.innerHeight+"px"}window.addEventListener("resize",A());var U=(0,o.tv)(),N=(0,o.yj)();function j(){U.push({name:"receiveAddress"})}var q=(0,n.iH)(null),D=(0,r.FN)().appContext.config.globalProperties.$axios,P=(0,n.qj)({activityTitle:(0,n.iH)(""),activityStartTime:(0,n.iH)(""),activityEndTime:(0,n.iH)(""),drawNumber:(0,n.iH)(0),winPrizeNumber:(0,n.iH)(0),activityDetails:(0,n.iH)(""),prizeList:(0,n.iH)([])}),W=(0,n.iH)(!1),B=(0,n.iH)(""),R=(0,n.iH)(""),Z=(0,n.iH)(0),M=[{padding:"12px",imgs:[{src:"https://res1.qdszgh.cn/laborLive/round.png",width:"100%",height:"100%"}]}],J=[{radius:"45%",imgs:[{src:"https://res1.qdszgh.cn/laborLive/begin.png",width:"100%",top:"-130%"}]}];function $(){D.post(D.defaults.baseURL+"/jeecg-boot/api/activity/activityRecord/chou",{activityId:Number(N.query.activityId),liveId:e.value}).then((function(t){200==t.data.code?(q.value.play(),P.prizeList.forEach((function(i,e){t.data.result==i.prizeId&&(Z.value=e)})),setTimeout((function(){q.value.stop(Z.value)}),3e3)):u.Z.fail(t.data.message)}))}function G(t){t.prizeId?(B.value="恭喜中奖！",R.value="恭喜您，获得"+t.prizeTitle):(B.value="未中奖！",R.value="很遗憾，您未中奖！"),W.value=!0}return(0,r.bv)((function(){D.get(D.defaults.baseURL+"/jeecg-boot/api/activity/"+Number(N.query.activityId)).then((function(t){if(200==t.data.code)if(P.activityTitle=t.data.result.activityTitle,P.activityStartTime=t.data.result.activityStartTime,P.activityEndTime=t.data.result.activityEndTime,P.drawNumber=t.data.result.drawNumber,P.winPrizeNumber=t.data.result.winPrizeNumber,P.activityDetails=t.data.result.activityDetails,1==t.data.result.prizeList.length){var i=(0,n.iH)(0);t.data.result.prizeList.forEach((function(t,e){var r=null;r=setInterval((function(){i.value<3?(P.prizeList.push({prizeTitle:t.prizeTitle,prizeId:t.prizeId,fonts:[{text:t.prizeTitle,top:"30%",fontColor:"#FF2A00",fontSize:"16px"}],background:"#fff58b"},{prizeTitle:"谢谢参与",prizeId:0,fonts:[{text:"谢谢参与",top:"30%",fontColor:"#FF2A00",fontSize:"16px"}],background:"#fed320"}),i.value++):clearInterval(r)}),10)}))}else if(2==t.data.result.prizeList.length){var e=(0,n.iH)(0),r=null;r=setInterval((function(){e.value<2?t.data.result.prizeList.forEach((function(t,i){P.prizeList.push({prizeTitle:t.prizeTitle,prizeId:t.prizeId,fonts:[{text:t.prizeTitle,top:"30%",fontColor:"#FF2A00",fontSize:"16px"}],background:i%2==0?"#fff58b":"#fed320"}),i%2==1&&P.prizeList.push({prizeTitle:"谢谢参与",prizeId:0,fonts:[{text:"谢谢参与",top:"30%",fontColor:"#FF2A00",fontSize:"16px"}],background:"#fff58b"}),e.value++})):clearInterval(r)}),10)}else 3==t.data.result.prizeList.length?t.data.result.prizeList.forEach((function(t,i){P.prizeList.push({prizeTitle:t.prizeTitle,prizeId:t.prizeId,fonts:[{text:t.prizeTitle,top:"30%",fontColor:"#FF2A00",fontSize:"16px"}],background:"#fff58b"}),P.prizeList.push({prizeTitle:"谢谢参与",prizeId:0,fonts:[{text:"谢谢参与",top:"30%",fontColor:"#FF2A00",fontSize:"16px"}],background:"#fed320"})})):4==t.data.result.prizeList.length?t.data.result.prizeList.forEach((function(t,i){P.prizeList.push({prizeTitle:t.prizeTitle,prizeId:t.prizeId,fonts:[{text:t.prizeTitle,top:"30%",fontColor:"#FF2A00",fontSize:"16px"}],background:i%2==0?"#fff58b":"#fed320"}),i%2==1&&P.prizeList.push({prizeTitle:"谢谢参与",prizeId:0,fonts:[{text:"谢谢参与",top:"30%",fontColor:"#FF2A00",fontSize:"16px"}],background:"#fff58b"})})):5==t.data.result.prizeList.length?(t.data.result.prizeList.forEach((function(t,i){P.prizeList.push({prizeTitle:t.prizeTitle,prizeId:t.prizeId,fonts:[{text:t.prizeTitle,top:"30%",fontColor:"#FF2A00",fontSize:"16px"}],background:i%2==0?"#fff58b":"#fed320"})})),P.prizeList.push({prizeTitle:"谢谢参与",prizeId:0,fonts:[{text:"谢谢参与",top:"30%",fontColor:"#FF2A00",fontSize:"16px"}],background:"#fff58b"})):t.data.result.prizeList.length>5&&t.data.result.prizeList.forEach((function(t,i){P.prizeList.push({prizeTitle:t.prizeTitle,prizeId:t.prizeId,fonts:[{text:t.prizeTitle,top:"30%",fontColor:"#FF2A00",fontSize:"16px"}],background:i%2==0?"#fff58b":"#fed320"})}))}))})),(0,r.Ah)((function(){window.removeEventListener("resize",A())})),function(t,i){var e=(0,r.up)("LuckyWheel"),o=(0,r.up)("van-button"),l=(0,r.up)("van-dialog");return(0,r.wg)(),(0,r.iD)("div",{class:"lottery",onTouchmove:p,style:(0,a.j5)((0,n.SU)(s))},[(0,r._)("div",d,[(0,r._)("div",f,[(0,r._)("div",{class:"content-top"},[(0,r._)("div",{class:"address",onClick:j},z)]),v,(0,r._)("div",h,[(0,r.Wm)(e,{ref_key:"myLucky",ref:q,width:"277px",height:"277px",prizes:(0,n.SU)(P).prizeList,blocks:M,buttons:J,onStart:$,onEnd:G},null,8,["prizes"])])])]),(0,r._)("div",b,[(0,r._)("div",g,[m,(0,r._)("div",T,[(0,r._)("div",_,[(0,r._)("div",w,[(0,r._)("span",y,"活动名称："+(0,a.zw)((0,n.SU)(P).activityTitle),1),(0,n.SU)(P).activityStartTime?((0,r.wg)(),(0,r.iD)("span",L,"活动时间："+(0,a.zw)((0,n.SU)(P).activityStartTime.split(" ")[0])+"-"+(0,a.zw)((0,n.SU)(P).activityEndTime.split(" ")[0]),1)):(0,r.kq)("v-if",!0),(0,r._)("span",x,"每人参与次数："+(0,a.zw)((0,n.SU)(P).drawNumber),1),(0,r._)("span",I,"可获奖次数："+(0,a.zw)((0,n.SU)(P).winPrizeNumber),1),(0,r._)("div",S,[(0,r._)("span",{class:"message",innerHTML:(0,n.SU)(P).activityDetails},null,8,k)])])])])])]),(0,r.Wm)(l,{class:"remind_dialog",show:W.value,"onUpdate:show":i[1]||(i[1]=function(t){return W.value=t}),showConfirmButton:!1},{default:(0,r.w5)((function(){return[(0,r._)("div",F,[(0,r._)("span",C,(0,a.zw)(B.value),1),(0,r._)("span",H,(0,a.zw)(R.value),1),(0,r.Wm)(o,{class:"confirm",onClick:i[0]||(i[0]=function(t){return W.value=!1})},{default:(0,r.w5)((function(){return[E]})),_:1})])]})),_:1},8,["show"])],36)}}});const U=(0,e(3744).Z)(A,[["__scopeId","data-v-08ea5c14"]])}}]);
//# sourceMappingURL=922.3533e46ea1c3f05aade5.js.map