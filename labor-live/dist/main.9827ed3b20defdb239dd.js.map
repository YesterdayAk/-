{"version":3,"file":"main.9827ed3b20defdb239dd.js","mappings":"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","sources":["webpack://labor-live/./src/App.vue","webpack://labor-live/./src/App.vue?df96","webpack://labor-live/./src/store/index.ts","webpack://labor-live/./src/router/index.ts","webpack://labor-live/./src/main.ts","webpack://labor-live/./src/modules/rem.ts","webpack://labor-live/./src/store/user.ts","webpack://labor-live/./src/utils/request.ts"],"sourcesContent":["import { render } from \"./App.vue?vue&type=template&id=3b44af21&scoped=true\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=3b44af21&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\直播项目\\\\live\\\\frontEnd\\\\labor-live\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b44af21\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache) {\n  const _component_router_view = _resolveComponent(\"router-view\")\n\n  return (_openBlock(), _createBlock(_component_router_view))\n}","import { createPinia } from \"pinia\";\r\nimport piniaPluginPersist from 'pinia-plugin-persist'\r\nconst store = createPinia()\r\nstore.use(piniaPluginPersist)\r\nexport default store\r\n\r\n","import { createRouter, createWebHashHistory, RouteRecordRaw } from 'vue-router'\r\nimport { AppRouteMetaConfig } from \"@/types/router\"\r\nimport { objectToString } from '@vue/shared'\r\nimport { userStore } from \"@/store/user\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport axios from 'axios'\r\nimport { Toast } from \"vant\";\r\ndeclare const labor: any\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n    {\r\n        path: '/',\r\n        redirect: \"/live\",\r\n    },\r\n    {\r\n        path: '/live',\r\n        name: \"live\",\r\n        meta: {\r\n            title: \"观看直播\",\r\n        },\r\n        component: () => import('@/views/Live/Live.vue')\r\n    },\r\n    {\r\n        path: '/home',\r\n        name: \"home\",\r\n        meta: {\r\n            title: \"观看直播\",\r\n        },\r\n        component: () => import('@/views/Home.vue')\r\n    },\r\n    {\r\n        path: '/guide',\r\n        name: \"guide\",\r\n        meta: {\r\n            title: \"观看直播\",\r\n        },\r\n        component: () => import('@/views/Guide/Guide.vue')\r\n    },\r\n    {\r\n        path: '/confirmOrder',\r\n        name: \"confirmOrder\",\r\n        meta: {\r\n            title: \"确认订单\",\r\n        },\r\n        component: () => import('@/views/ConfirmOrder/ConfirmOrder.vue')\r\n    },\r\n    {\r\n        path: '/giveRecord',\r\n        name: \"giveRecord\",\r\n        meta: {\r\n            title: \"赠送记录\",\r\n        },\r\n        component: () => import('@/views/Record/GiveRecord.vue')\r\n    },\r\n    {\r\n        path: '/orderRecord',\r\n        name: \"orderRecord\",\r\n        meta: {\r\n            title: \"订单记录\",\r\n        },\r\n        component: () => import('@/views/Record/OrderRecord.vue')\r\n    },\r\n    {\r\n        path: '/prizeRecord',\r\n        name: \"prizeRecord\",\r\n        meta: {\r\n            title: \"中奖记录\",\r\n        },\r\n        component: () => import('@/views/Record/PrizeRecord.vue')\r\n    },\r\n    {\r\n        path: '/prizeRecordDetail/:id',\r\n        name: \"prizeRecordDetail\",\r\n        meta: {\r\n            title: \"获奖详情\",\r\n        },\r\n        component: () => import('@/views/Record/PrizeRecordDetail.vue')\r\n    },\r\n    {\r\n        path: '/lottery',\r\n        name: \"lottery\",\r\n        meta: {\r\n            title: \"幸运抽奖\",\r\n        },\r\n        component: () => import('@/views/Lottery/Lottery.vue')\r\n    },\r\n    {\r\n        path: '/receiveAddress',\r\n        name: \"receiveAddress\",\r\n        meta: {\r\n            title: \"幸运抽奖\",\r\n        },\r\n        component: () => import('@/views/Lottery/ReceiveAddress.vue')\r\n    },\r\n    {\r\n        path: '/rank',\r\n        name: \"rank\",\r\n        meta: {\r\n            title: \"排行榜\",\r\n        },\r\n        component: () => import('@/views/Rank/Rank.vue')\r\n    },\r\n    {\r\n        path: '/forbidden',\r\n        name: \"forbidden\",\r\n        component: () => import('@/views/Forbidden/Forbidden.vue')\r\n    },\r\n    {\r\n        path: '/remind',\r\n        name: \"remind\",\r\n        component: () => import('@/views/Remind/Remind.vue')\r\n    },\r\n    {\r\n        path: '/luckyManage',\r\n        name: \"luckyManage\",\r\n        meta: {\r\n            title: \"福袋管理\",\r\n        },\r\n        component: () => import('@/views/Manage/LuckyManage.vue')\r\n    },\r\n    {\r\n        path: '/turnplateManage',\r\n        name: \"turnplateManage\",\r\n        meta: {\r\n            title: \"抽奖管理\",\r\n        },\r\n        component: () => import('@/views/Manage/TurnplateManage.vue')\r\n    },\r\n    {\r\n        path: '/winUser/:id',\r\n        name: \"winUser\",\r\n        meta: {\r\n            title: \"中奖名单\",\r\n        },\r\n        component: () => import('@/views/Manage/WinUser.vue')\r\n    },\r\n    {\r\n        path: '/joinUser/:id',\r\n        name: \"joinUser\",\r\n        meta: {\r\n            title: \"参与名单\",\r\n        },\r\n        component: () => import('@/views/Manage/JoinUser.vue')\r\n    },\r\n    {\r\n        path: '/muteManage',\r\n        name: \"muteManage\",\r\n        meta: {\r\n            title: \"禁言管理\",\r\n        },\r\n        component: () => import('@/views/Manage/MuteManage.vue')\r\n    },\r\n    {\r\n        path: '/adminManage',\r\n        name: \"adminManage\",\r\n        meta: {\r\n            title: \"管理员管理\",\r\n        },\r\n        component: () => import('@/views/Manage/AdminManage.vue')\r\n    },\r\n    {\r\n        path: '/plive',\r\n        name: \"plive\",\r\n        meta: {\r\n            title: \"图文直播\",\r\n        },\r\n        component: () => import('@/views/Manage/Plive.vue')\r\n    }\r\n]\r\n\r\nconst router = createRouter({\r\n    history: createWebHashHistory(), //hash模式\r\n    routes\r\n})\r\n\r\n\r\n//获取齐鲁工惠用户信息\r\nfunction getInfo() {\r\n    return new Promise(function (resolve, reject) {\r\n        labor.getLaborStatus(function (res: any) {\r\n            if (res.laborStatus == \"\" || res.laborStatus == 0) {\r\n                //代表齐鲁工惠App未注册认证会员\r\n                reject('/forbidden')\r\n            } else {\r\n                labor.getUserInfo(function (obj: any) {\r\n                    //非齐鲁工惠进入\r\n                    if (obj.error == 'no data') {\r\n                        reject('/remind')\r\n                    } else {\r\n                        interface UserInfo {\r\n                            memberId: string;\r\n                            fullName: string;\r\n                            userPhone: number;\r\n                            laborId: number;\r\n                            laborName: string;\r\n                            userIcon: string;\r\n                            sex: string;\r\n                            laborBirthday: string;\r\n                            districtCode: string\r\n                            laborCode: string\r\n                        }\r\n                        const userInfo: UserInfo = {\r\n                            memberId: obj.memberId,\r\n                            fullName: obj.fullName,\r\n                            userPhone: obj.userPhone,\r\n                            laborId: obj.laborId,\r\n                            laborName: obj.laborName,\r\n                            userIcon: obj.userIcon,\r\n                            sex: obj.sex,\r\n                            laborBirthday: obj.birthday,\r\n                            districtCode: obj.districtCode ? obj.districtCode.substring(0, 6) : obj.laborCode.substring(0, 6),\r\n                            laborCode: obj.laborCode\r\n                        };\r\n                        resolve(userInfo)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n\r\n    })\r\n}\r\n\r\n//获取登录接口信息\r\nfunction login(userInfo: any) {\r\n    return new Promise(function (resolve, reject) {\r\n        axios.post(axios.defaults.baseURL + '/jeecg-boot/sys/phoneRegisterOrLogin', userInfo).then(res => {\r\n            if (res.data.result.token) {\r\n                const store = userStore();\r\n                const { token, userId, userPhone } = storeToRefs(store);\r\n                store.$patch({\r\n                    token: res.data.result.token,\r\n                    userId: res.data.result.userInfo.id,\r\n                    userPhone: res.data.result.userInfo.phone\r\n                });\r\n                resolve('success')\r\n            } else {\r\n                reject()\r\n            }\r\n        }).catch(() => {\r\n            reject()\r\n        })\r\n    })\r\n}\r\n\r\n//获取匿名游客登录接口信息\r\nfunction visitorLogin() {\r\n    return new Promise(function (resolve, reject) {\r\n        axios.post(axios.defaults.baseURL + '/jeecg-boot/sys/phoneAnonymousLogin').then(res => {\r\n            if (res.data.result.token) {\r\n                const store = userStore();\r\n                const { token, userId, laborApp } = storeToRefs(store);\r\n                store.$patch({\r\n                    token: res.data.result.token,\r\n                    userId: res.data.result.userInfo.id,\r\n                    laborApp: false\r\n                });\r\n                resolve('success')\r\n            } else {\r\n                reject()\r\n            }\r\n        }).catch(() => {\r\n            reject()\r\n        })\r\n    })\r\n}\r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    const meta = to.meta as AppRouteMetaConfig;\r\n    document.title = meta.title ? meta.title : \"工会直播\"\r\n    const store = userStore();\r\n    const { token, liveId } = storeToRefs(store);\r\n    if (to.query.liveId) {\r\n        store.$patch({\r\n            liveId: String(to.query.liveId),\r\n        });\r\n    }\r\n    store.$patch({\r\n        token: store.token,\r\n    });\r\n    if (!token.value) {\r\n        let userInfo = window.sessionStorage.getItem('userInfo');\r\n        if (userInfo) {\r\n            login(userInfo).then(() => {\r\n                next()\r\n            }).catch(() => {\r\n                Toast.fail('登录失败');\r\n                next()\r\n            })\r\n        } else {\r\n            if (to.path != '/forbidden' && to.path !== '/remind' && labor.isApp()) {\r\n                getInfo().then((event) => {\r\n                    let user = event;\r\n                    window.sessionStorage.setItem('userInfo', JSON.stringify(user));\r\n                    login(user).then(() => {\r\n                        next()\r\n                    }).catch(() => {\r\n                        Toast.fail('登录失败');\r\n                        next()\r\n                    })\r\n                }).catch((error) => {\r\n                    next(error)\r\n                })\r\n            } else {\r\n                visitorLogin().then(() => {\r\n                    next()\r\n                })\r\n\r\n            }\r\n        }\r\n    } else {\r\n        next();\r\n    }\r\n})\r\n\r\nexport default router","\r\n\r\nimport { createApp } from \"vue\"\r\nimport App from \"./App.vue\"  //引入 App 页面组件\r\nimport store from \"./store\"\r\nimport router from \"./router\"\r\n\r\n\r\n//引入rem.js文件\r\nimport './modules/rem'\r\n//引入main.scss样式文件\r\nimport \"./stylesheets/main.scss\"\r\n//引入vant插件\r\n\r\nimport { Image as VanImage, CountDown, Search, PullRefresh, NavBar, NumberKeyboard, Toast, Button, List, Form, Field, Area, Popup, Cell, CellGroup, ActionSheet, Dialog, Uploader, ImagePreview, Empty, Stepper } from 'vant';\r\n\r\n\r\n// 引入动画库\r\nimport \"animate.css\"\r\n//引入video-js样式文件\r\nimport 'video.js/dist/video-js.css'\r\nimport 'videojs-markers/dist/videojs.markers.css'\r\nimport 'videojs-markers'\r\nimport 'videojs-landscape-fullscreen'\r\n//引入vconsole\r\n// import Vconsole from \"vconsole\";\r\n// let vConsole = new Vconsole;\r\n//引入lucky-canvas\r\nimport VueLuckyCanvas from '@lucky-canvas/vue'\r\n//引入axios\r\nimport axios from \"./utils/request\";\r\nconst app = createApp(App);\r\napp.config.globalProperties.$axios = axios;\r\napp.use(store).use(router).use(NavBar).use(NumberKeyboard).use(Toast).use(Button).use(List).use(Form).use(Field).use(Area).use(Popup).use(Cell).use(CellGroup).use(ActionSheet).use(Search).use(PullRefresh).use(VanImage).use(CountDown).use(Dialog).use(Uploader).use(ImagePreview).use(Empty).use(Stepper).use(VueLuckyCanvas).mount('#app');","document.documentElement.style.fontSize = \r\n    document.documentElement.clientWidth / 3.75 + 'px'\r\n\r\nwindow.onresize = function () {\r\n    document.documentElement.style.fontSize = \r\n        document.documentElement.clientWidth / 3.75 + 'px'\r\n}","import { ref, computed } from \"vue\"\r\nimport { defineStore } from \"pinia\";\r\nimport { CommentListConfig } from \"@/types/introduce\";\r\n\r\n\r\n// 使用composition API模式定义store\r\nexport const userStore = defineStore('user', () => {\r\n    /**\r\n     * @descriptipn 用户信息，权限处理\r\n     */\r\n    const token = ref<string>('');\r\n    const liveId = ref<string>('') //直播间id\r\n    const userId = ref<string>('') //用户唯一id\r\n    const userPhone = ref<string>('') //用户手机号\r\n    const isAdmin = ref<string>('') //默认不是管理员\r\n    const liveTitle = ref<string>('') //直播主题\r\n    const liveBrowse = ref<string>('') //直播浏览量\r\n    const liveDescribe = ref<string>('') //直播描述\r\n    const screenSizeType = ref<string>('') //默认从图文直播进入视频直播为横屏\r\n    const laborApp = ref<boolean>(true) //默认是齐鲁工惠app环境\r\n    const isFirstApp = ref<boolean>(true) //默认是初始进入齐鲁工惠\r\n    const count = ref<number>(1);\r\n    const commentList = ref<CommentListConfig[]>([]);\r\n    const richTxtList = ref<CommentListConfig[]>([]);\r\n    const buyGoodsInfo = ref<any>({\r\n        shopName: ref<string>(''), //商家名称\r\n        buyNum: ref<number>(0), //购买数量\r\n        goodsName: ref<string>(''), //商品名称\r\n        picture: ref<string>(''), //商家图片\r\n        goodsId: ref<number>(0), //商品id\r\n        skuPrice: ref<number>(0), //商品价格\r\n        skuId: ref<number>(0), //商品规格id\r\n        specName: ref<string>(''), //商品规格名称\r\n    })\r\n    const doubleCount = computed(() => {\r\n        return count.value * 2\r\n    });\r\n\r\n    return {\r\n        token,\r\n        liveId,\r\n        userId,\r\n        userPhone,\r\n        isAdmin,\r\n        liveTitle,\r\n        liveBrowse,\r\n        liveDescribe,\r\n        screenSizeType,\r\n        laborApp,\r\n        isFirstApp,\r\n        count,\r\n        commentList,\r\n        doubleCount,\r\n        richTxtList,\r\n        buyGoodsInfo\r\n\r\n    }\r\n}, {\r\n    persist: {\r\n        enabled: true\r\n    }\r\n})\r\n\r\n","import axios from \"axios\";\r\nimport qs from \"qs\"\r\nimport { userStore } from \"@/store/user\";\r\nimport { storeToRefs } from \"pinia\";\r\n\r\n// axios.defaults.baseURL = \"https://livephone.qdszgh.cn\" // 测试\r\naxios.defaults.baseURL = \"https://testlivephone.qdszgh.cn\"\r\n\r\n//设置超时时间\r\naxios.defaults.timeout = 300000\r\n//添加请求拦截器\r\naxios.interceptors.request.use((config) => {\r\n    //在发送请求之前做某事\r\n    const store = userStore();\r\n    const { token } = storeToRefs(store);\r\n    if (token.value) {\r\n        config.headers = {\r\n            'Content-Type': 'application/json;charset=UTF-8',\r\n            'X-Access-Token': token.value,\r\n            'Authorization': 'Bearer' + token.value,\r\n        }\r\n    } else {\r\n        config.headers = {\r\n            'Content-Type': 'application/json;charset=UTF-8',\r\n        }\r\n    }\r\n    return config\r\n}, (error) => {\r\n    //请求错误时做些事\r\n    return Promise.reject(error);\r\n});\r\n\r\n//添加响应拦截器\r\naxios.interceptors.response.use((response) => {\r\n    //对响应数据做些事\r\n    if (response.status == 200) {\r\n        return Promise.resolve(response);\r\n    }\r\n}, (error) => {\r\n    return Promise.reject(error)\r\n})\r\n\r\n\r\n/**\r\n * 封装get方法\r\n * @param {string} url 路径\r\n * @param {object} data\r\n * @returns {Promise}\r\n */\r\n\r\nexport function get(url: string, params = {}) {\r\n    return new Promise((resolve, reject) => {\r\n        axios.get(url, {\r\n            params: params\r\n        })\r\n            .then(response => {\r\n                resolve(response)\r\n            })\r\n            .catch(err => {\r\n                reject(err)\r\n            })\r\n    })\r\n}\r\n\r\n/**\r\n * 封装post请求\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\n\r\nexport function post(url: string, data = {}) {\r\n    return new Promise((resolve, reject) => {\r\n        axios.post(url, data)\r\n            .then(response => {\r\n                resolve(response)\r\n            }, err => {\r\n                reject(err)\r\n            })\r\n    })\r\n}\r\n\r\n/**\r\n * 封装patch请求\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\n\r\nexport function patch(url: string, data = {}) {\r\n    return new Promise((resolve, reject) => {\r\n        axios.patch(url, data)\r\n            .then(response => {\r\n                resolve(response)\r\n            }, err => {\r\n                reject(err)\r\n            })\r\n    })\r\n}\r\n\r\n/**\r\n * 封装put请求\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\n\r\nexport function put(url: string, data = {}) {\r\n    return new Promise((resolve, reject) => {\r\n        axios.put(url, data)\r\n            .then(response => {\r\n                resolve(response)\r\n            }, err => {\r\n                reject(err)\r\n            })\r\n    })\r\n}\r\n\r\n/**\r\n * 封装delete请求\r\n * @param url\r\n * @returns {Promise}\r\n */\r\n\r\nexport function deletes(url: string) {\r\n    return new Promise((resolve, reject) => {\r\n        axios.delete(url)\r\n            .then(response => {\r\n                resolve(response)\r\n            }, err => {\r\n                reject(err)\r\n            })\r\n    })\r\n}\r\n\r\n/*\r\n * 文件上传\r\n */\r\n\r\nexport function uploadAction(url: string, parameter = {}) {\r\n    return axios({\r\n        url: url,\r\n        data: parameter,\r\n        method: 'post',\r\n\r\n    })\r\n\r\n}\r\n\r\n\r\nexport default axios"],"names":["script","_ctx","_cache","_component_router_view","_resolveComponent","_openBlock","_createBlock","store","use","routes","path","redirect","name","meta","title","component","router","history","login","userInfo","Promise","resolve","reject","then","res","data","result","token","user","$patch","userId","id","userPhone","phone","catch","beforeEach","to","from","next","document","query","liveId","String","value","window","sessionStorage","getItem","labor","isApp","getLaborStatus","laborStatus","getUserInfo","obj","error","memberId","fullName","laborId","laborName","userIcon","sex","laborBirthday","birthday","districtCode","substring","laborCode","event","setItem","JSON","stringify","laborApp","app","App","config","globalProperties","$axios","mount","documentElement","style","fontSize","clientWidth","onresize","userStore","isAdmin","liveTitle","liveBrowse","liveDescribe","screenSizeType","isFirstApp","count","commentList","richTxtList","buyGoodsInfo","shopName","buyNum","goodsName","picture","goodsId","skuPrice","skuId","specName","doubleCount","persist","enabled","get","url","params","response","err","post","uploadAction","parameter","method","headers","status"],"sourceRoot":""}