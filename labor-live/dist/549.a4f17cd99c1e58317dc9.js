"use strict";(self.webpackChunklabor_live=self.webpackChunklabor_live||[]).push([[549],{5549:(e,n,s)=>{s.r(n),s.d(n,{default:()=>k});var a=s(6252),r=s(3577),t=function(e){return(0,a.dD)("data-v-d903ca5e"),e=e(),(0,a.Cn)(),e},u={class:"contentBox"},o={class:"content"},l={class:"information"},i=t((function(){return(0,a._)("span",{class:"title"},"请填写收货地址",-1)})),d={class:"user_name"},c=t((function(){return(0,a._)("span",{class:"label"},"姓名",-1)})),m={class:"user_phone"},f=t((function(){return(0,a._)("span",{class:"label"},"手机号",-1)})),v={class:"user_site"},p=t((function(){return(0,a._)("span",{class:"label"},"收货地址",-1)})),h=(0,a.Uk)("保存"),_={class:"introduceBox"},b={class:"introduce"},g=t((function(){return(0,a._)("div",{class:"caption"},[(0,a._)("span",{class:"title"},"说明")],-1)})),w={class:"message"};var A=s(655),C=s(2262),V=s(2149),P=s(1751);s(4333);const U=(0,a.aZ)({name:"receiveAddress",setup:function(){var e=this,n=(0,a.FN)().appContext.config.globalProperties.$axios,s=(0,C.iH)(""),r=(0,C.iH)(""),t=(0,C.iH)(""),u=(0,C.iH)(!1),o=(0,C.iH)(""),l=(0,C.qj)([]),i=function(){n.get(n.defaults.baseURL+"/jeecg-boot/api/user/getUserByToken").then((function(e){200==e.data.code&&(s.value=e.data.result.addressName,r.value=e.data.result.addressPhone,t.value=e.data.result.addressProvincesCity,o.value=e.data.result.addressDetail)}))},d=function(){l=[{id:1,message:"1.收货地址仅用于实物奖品发奖使用。"},{id:2,message:"2.中奖后，主办方将于直播活动结束后的10个工作日内进行公示发奖，请耐心等待。"},{id:3,message:"3.直播结束之前，您可随时维护您的收货地址，保存即生效。"}]};d(),(0,a.bv)((function(){return(0,A.mG)(e,void 0,void 0,(function(){return(0,A.Jh)(this,(function(e){switch(e.label){case 0:return[4,i()];case 1:return e.sent(),[2]}}))}))}));return{userName:s,userPhone:r,userAddress:t,showArea:u,areaList:V.H,userStreet:o,introduceList:l,validatorPhonenumber:function(e){return/(^[1][3,4,5,7,8,9][0-9]{9}$)/.test(e)},onConfirm:function(e){u.value=!1,t.value=e.filter((function(e){return!!e})).map((function(e){return e.name})).join("/")},onSubmit:function(e){console.log("submit",e),n.post(n.defaults.baseURL+"/jeecg-boot/api/user/updateUserAddress",{addressName:s.value,addressPhone:r.value,addressProvincesCity:t.value,addressDetail:o.value}).then((function(e){200==e.data.code&&P.Z.success("保存地址成功")}))},getAddressInfo:i,getIntroduceInfo:d,handleTouch:function(e){e._isScroller=!0}}}});const k=(0,s(3744).Z)(U,[["render",function(e,n,s,t,A,C){var V=(0,a.up)("van-field"),P=(0,a.up)("van-area"),U=(0,a.up)("van-popup"),k=(0,a.up)("van-button"),S=(0,a.up)("van-form");return(0,a.wg)(),(0,a.iD)("div",{class:"receiveAddress",onTouchmove:n[7]||(n[7]=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.handleTouch&&e.handleTouch.apply(e,n)})},[(0,a._)("div",u,[(0,a._)("div",o,[(0,a._)("div",l,[i,(0,a.Wm)(S,{class:"user_form",onSubmit:e.onSubmit},{default:(0,a.w5)((function(){return[(0,a._)("div",d,[c,(0,a.Wm)(V,{modelValue:e.userName,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.userName=n}),name:"userName",placeholder:"姓名",rules:[{required:!0,message:"请填写姓名"}]},null,8,["modelValue"])]),(0,a._)("div",m,[f,(0,a.Wm)(V,{modelValue:e.userPhone,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.userPhone=n}),name:"userPhone",placeholder:"手机号",rules:[{validator:e.validatorPhonenumber,required:!0,message:"请填写正确的手机号"}]},null,8,["modelValue","rules"])]),(0,a._)("div",v,[p,(0,a.Wm)(V,{class:"address",modelValue:e.userAddress,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.userAddress=n}),name:"userAddress",readonly:"",placeholder:"地区",onClick:n[3]||(n[3]=function(n){return e.showArea=!0}),rules:[{required:!0,message:"请选择地区"}]},null,8,["modelValue"]),(0,a.Wm)(U,{show:e.showArea,"onUpdate:show":n[5]||(n[5]=function(n){return e.showArea=n}),position:"bottom"},{default:(0,a.w5)((function(){return[(0,a.Wm)(P,{"area-list":e.areaList,onConfirm:e.onConfirm,onCancel:n[4]||(n[4]=function(n){return e.showArea=!1})},null,8,["area-list","onConfirm"])]})),_:1},8,["show"]),(0,a.Wm)(V,{class:"street",modelValue:e.userStreet,"onUpdate:modelValue":n[6]||(n[6]=function(n){return e.userStreet=n}),name:"userStreet",placeholder:"详细街道",rules:[{required:!0,message:"请填写详细街道"}]},null,8,["modelValue"])]),(0,a.Wm)(k,{class:"save",block:"","native-type":"submit"},{default:(0,a.w5)((function(){return[h]})),_:1})]})),_:1},8,["onSubmit"])])])]),(0,a._)("div",_,[(0,a._)("div",b,[g,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.introduceList,(function(e){return(0,a.wg)(),(0,a.iD)("div",{class:"container",key:e.id},[(0,a._)("span",w,(0,r.zw)(e.message),1)])})),128))])])],32)}],["__scopeId","data-v-d903ca5e"]])}}]);
//# sourceMappingURL=549.a4f17cd99c1e58317dc9.js.map