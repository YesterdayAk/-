{"version":3,"file":"922.3533e46ea1c3f05aade5.js","mappings":"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","sources":["webpack://labor-live/./src/views/Lottery/Lottery.vue?ea02","webpack://labor-live/./src/views/Lottery/Lottery.vue?99f1"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '@/assets/lottery/sign.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-08ea5c14\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"contentBox\" }\nconst _hoisted_2 = { class: \"content\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"receive\" }, \"收货\", -1 /* HOISTED */))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"site\" }, \"地址\", -1 /* HOISTED */))\nconst _hoisted_5 = [\n  _hoisted_3,\n  _hoisted_4\n]\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"content-center\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"sign\" }, [\n    /*#__PURE__*/_createElementVNode(\"img\", {\n      src: _imports_0,\n      alt: \"\"\n    })\n  ])\n], -1 /* HOISTED */))\nconst _hoisted_7 = { class: \"content-bottom\" }\nconst _hoisted_8 = { class: \"introduceBox\" }\nconst _hoisted_9 = { class: \"introduce\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"introduce-top\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"label\" }, [\n    /*#__PURE__*/_createElementVNode(\"span\", { class: \"title\" }, \"抽奖活动说明\")\n  ])\n], -1 /* HOISTED */))\nconst _hoisted_11 = { class: \"introduce-center\" }\nconst _hoisted_12 = { class: \"activity\" }\nconst _hoisted_13 = { class: \"information\" }\nconst _hoisted_14 = { class: \"name\" }\nconst _hoisted_15 = {\n  key: 0,\n  class: \"time\"\n}\nconst _hoisted_16 = { class: \"join_count\" }\nconst _hoisted_17 = { class: \"award_count\" }\nconst _hoisted_18 = { class: \"rule\" }\nconst _hoisted_19 = [\"innerHTML\"]\nconst _hoisted_20 = { class: \"remind\" }\nconst _hoisted_21 = { class: \"title\" }\nconst _hoisted_22 = { class: \"message\" }\nconst _hoisted_23 = /*#__PURE__*/_createTextVNode(\"确认\")\n\nimport { ref, getCurrentInstance, onMounted, reactive, onUnmounted } from \"vue\";\r\nimport { LotteryListConfig } from \"@/types/introduce\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { userStore } from \"@/store/user\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { Toast } from \"vant\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\r\nconst store = userStore();\r\nconst { liveId } = storeToRefs(store);\r\nconst lotteryHeight = reactive({\r\n  height: \"\",\r\n});\r\nfunction handleTouch(e: any) {\r\n  e._isScroller = true;\r\n}\r\nfunction getLotteryHeight(): any {\r\n  lotteryHeight.height = window.innerHeight + \"px\";\r\n}\r\nwindow.addEventListener(\"resize\", getLotteryHeight());\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nfunction getAddressInfo() {\r\n  router.push({\r\n    name: \"receiveAddress\",\r\n  });\r\n}\r\nconst myLucky = ref<null | HTMLElement>(null);\r\nconst { appContext } = getCurrentInstance() as any;\r\nconst axios = appContext.config.globalProperties.$axios;\r\nlet lotteryInfo = reactive({\r\n  activityTitle: ref<string>(\"\"), //活动名称\r\n  activityStartTime: ref<string>(\"\"), //活动开始时间\r\n  activityEndTime: ref<string>(\"\"), //活动结束时间\r\n  drawNumber: ref<number>(0), //每人参与参数\r\n  winPrizeNumber: ref<number>(0), //可获奖次数\r\n  activityDetails: ref<string>(\"\"), //活动规则\r\n  prizeList: ref<LotteryListConfig[]>([]), //转盘列表\r\n});\r\nconst showPrize = ref(false);\r\nconst prizeRemind = ref(\"\");\r\nconst prizeInfo = ref(\"\");\r\nconst currentIndex = ref(0);\r\nconst blocks = [\r\n  {\r\n    padding: \"12px\",\r\n    imgs: [\r\n      {\r\n        src: \"https://res1.qdszgh.cn/laborLive/round.png\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nconst buttons = [\r\n  {\r\n    radius: \"45%\",\r\n    imgs: [\r\n      {\r\n        src: \"https://res1.qdszgh.cn/laborLive/begin.png\",\r\n        width: \"100%\",\r\n        top: \"-130%\",\r\n      },\r\n    ],\r\n  },\r\n];\r\nfunction startCallback() {\r\n  axios\r\n    .post(axios.defaults.baseURL + \"/jeecg-boot/api/activity/activityRecord/chou\", {\r\n      activityId: Number(route.query.activityId),\r\n      liveId: liveId.value,\r\n    })\r\n    .then((res: any) => {\r\n      if (res.data.code == 200) {\r\n        (myLucky.value as any).play();\r\n        lotteryInfo.prizeList.forEach((item, index) => {\r\n          if (res.data.result == item.prizeId) {\r\n            currentIndex.value = index;\r\n          }\r\n        });\r\n        setTimeout(() => {\r\n          (myLucky.value as any).stop(currentIndex.value);\r\n        }, 3000);\r\n      } else {\r\n        Toast.fail(res.data.message);\r\n      }\r\n    });\r\n}\r\n\r\nfunction endCallback(prize: any) {\r\n  if (prize.prizeId) {\r\n    prizeRemind.value = \"恭喜中奖！\";\r\n    prizeInfo.value = \"恭喜您，获得\" + prize.prizeTitle;\r\n  } else {\r\n    prizeRemind.value = \"未中奖！\";\r\n    prizeInfo.value = \"很遗憾，您未中奖！\";\r\n  }\r\n  showPrize.value = true;\r\n}\r\n//获取转盘活动信息\r\nfunction getLotteryInfo() {\r\n  axios\r\n    .get(\r\n      axios.defaults.baseURL +\r\n        \"/jeecg-boot/api/activity/\" +\r\n        Number(route.query.activityId)\r\n    )\r\n    .then((res: any) => {\r\n      if (res.data.code == 200) {\r\n        lotteryInfo.activityTitle = res.data.result.activityTitle;\r\n        lotteryInfo.activityStartTime = res.data.result.activityStartTime;\r\n        lotteryInfo.activityEndTime = res.data.result.activityEndTime;\r\n        lotteryInfo.drawNumber = res.data.result.drawNumber;\r\n        lotteryInfo.winPrizeNumber = res.data.result.winPrizeNumber;\r\n        lotteryInfo.activityDetails = res.data.result.activityDetails;\r\n        if (res.data.result.prizeList.length == 1) {\r\n          const count = ref<number>(0);\r\n          res.data.result.prizeList.forEach((item: any, index: number) => {\r\n            let timer: any = null;\r\n            timer = setInterval(() => {\r\n              if (count.value < 3) {\r\n                lotteryInfo.prizeList.push(\r\n                  {\r\n                    prizeTitle: item.prizeTitle,\r\n                    prizeId: item.prizeId,\r\n                    fonts: [\r\n                      {\r\n                        text: item.prizeTitle,\r\n                        top: \"30%\",\r\n                        fontColor: \"#FF2A00\",\r\n                        fontSize: \"16px\",\r\n                      },\r\n                    ],\r\n                    background: \"#fff58b\",\r\n                  },\r\n                  {\r\n                    prizeTitle: \"谢谢参与\",\r\n                    prizeId: 0,\r\n                    fonts: [\r\n                      {\r\n                        text: \"谢谢参与\",\r\n                        top: \"30%\",\r\n                        fontColor: \"#FF2A00\",\r\n                        fontSize: \"16px\",\r\n                      },\r\n                    ],\r\n                    background: \"#fed320\",\r\n                  }\r\n                );\r\n                count.value++;\r\n              } else {\r\n                clearInterval(timer);\r\n              }\r\n            }, 10);\r\n          });\r\n        } else if (res.data.result.prizeList.length == 2) {\r\n          const count = ref<number>(0);\r\n          let timer: any = null;\r\n          timer = setInterval(() => {\r\n            if (count.value < 2) {\r\n              res.data.result.prizeList.forEach((item: any, index: number) => {\r\n                lotteryInfo.prizeList.push({\r\n                  prizeTitle: item.prizeTitle,\r\n                  prizeId: item.prizeId,\r\n                  fonts: [\r\n                    {\r\n                      text: item.prizeTitle,\r\n                      top: \"30%\",\r\n                      fontColor: \"#FF2A00\",\r\n                      fontSize: \"16px\",\r\n                    },\r\n                  ],\r\n                  background: index % 2 == 0 ? \"#fff58b\" : \"#fed320\",\r\n                });\r\n                if (index % 2 == 1) {\r\n                  lotteryInfo.prizeList.push({\r\n                    prizeTitle: \"谢谢参与\",\r\n                    prizeId: 0,\r\n                    fonts: [\r\n                      {\r\n                        text: \"谢谢参与\",\r\n                        top: \"30%\",\r\n                        fontColor: \"#FF2A00\",\r\n                        fontSize: \"16px\",\r\n                      },\r\n                    ],\r\n                    background: \"#fff58b\",\r\n                  });\r\n                }\r\n                count.value++;\r\n              });\r\n            } else {\r\n              clearInterval(timer);\r\n            }\r\n          }, 10);\r\n        } else if (res.data.result.prizeList.length == 3) {\r\n          res.data.result.prizeList.forEach((item: any, index: number) => {\r\n            lotteryInfo.prizeList.push({\r\n              prizeTitle: item.prizeTitle,\r\n              prizeId: item.prizeId,\r\n              fonts: [\r\n                {\r\n                  text: item.prizeTitle,\r\n                  top: \"30%\",\r\n                  fontColor: \"#FF2A00\",\r\n                  fontSize: \"16px\",\r\n                },\r\n              ],\r\n              background: \"#fff58b\",\r\n            });\r\n            lotteryInfo.prizeList.push({\r\n              prizeTitle: \"谢谢参与\",\r\n              prizeId: 0,\r\n              fonts: [\r\n                {\r\n                  text: \"谢谢参与\",\r\n                  top: \"30%\",\r\n                  fontColor: \"#FF2A00\",\r\n                  fontSize: \"16px\",\r\n                },\r\n              ],\r\n              background: \"#fed320\",\r\n            });\r\n          });\r\n        } else if (res.data.result.prizeList.length == 4) {\r\n          res.data.result.prizeList.forEach((item: any, index: number) => {\r\n            lotteryInfo.prizeList.push({\r\n              prizeTitle: item.prizeTitle,\r\n              prizeId: item.prizeId,\r\n              fonts: [\r\n                {\r\n                  text: item.prizeTitle,\r\n                  top: \"30%\",\r\n                  fontColor: \"#FF2A00\",\r\n                  fontSize: \"16px\",\r\n                },\r\n              ],\r\n              background: index % 2 == 0 ? \"#fff58b\" : \"#fed320\",\r\n            });\r\n            if (index % 2 == 1) {\r\n              lotteryInfo.prizeList.push({\r\n                prizeTitle: \"谢谢参与\",\r\n                prizeId: 0,\r\n                fonts: [\r\n                  {\r\n                    text: \"谢谢参与\",\r\n                    top: \"30%\",\r\n                    fontColor: \"#FF2A00\",\r\n                    fontSize: \"16px\",\r\n                  },\r\n                ],\r\n                background: \"#fff58b\",\r\n              });\r\n            }\r\n          });\r\n        } else if (res.data.result.prizeList.length == 5) {\r\n          res.data.result.prizeList.forEach((item: any, index: number) => {\r\n            lotteryInfo.prizeList.push({\r\n              prizeTitle: item.prizeTitle,\r\n              prizeId: item.prizeId,\r\n              fonts: [\r\n                {\r\n                  text: item.prizeTitle,\r\n                  top: \"30%\",\r\n                  fontColor: \"#FF2A00\",\r\n                  fontSize: \"16px\",\r\n                },\r\n              ],\r\n              background: index % 2 == 0 ? \"#fff58b\" : \"#fed320\",\r\n            });\r\n          });\r\n          lotteryInfo.prizeList.push({\r\n            prizeTitle: \"谢谢参与\",\r\n            prizeId: 0,\r\n            fonts: [\r\n              {\r\n                text: \"谢谢参与\",\r\n                top: \"30%\",\r\n                fontColor: \"#FF2A00\",\r\n                fontSize: \"16px\",\r\n              },\r\n            ],\r\n            background: \"#fff58b\",\r\n          });\r\n        } else if (res.data.result.prizeList.length > 5) {\r\n          res.data.result.prizeList.forEach((item: any, index: number) => {\r\n            lotteryInfo.prizeList.push({\r\n              prizeTitle: item.prizeTitle,\r\n              prizeId: item.prizeId,\r\n              fonts: [\r\n                {\r\n                  text: item.prizeTitle,\r\n                  top: \"30%\",\r\n                  fontColor: \"#FF2A00\",\r\n                  fontSize: \"16px\",\r\n                },\r\n              ],\r\n              background: index % 2 == 0 ? \"#fff58b\" : \"#fed320\",\r\n            });\r\n          });\r\n        }\r\n      }\r\n    });\r\n}\r\nonMounted(() => {\r\n  getLotteryInfo();\r\n});\r\n\r\nonUnmounted(() => {\r\n  window.removeEventListener(\"resize\", getLotteryHeight());\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_LuckyWheel = _resolveComponent(\"LuckyWheel\")!\n  const _component_van_button = _resolveComponent(\"van-button\")!\n  const _component_van_dialog = _resolveComponent(\"van-dialog\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"lottery\",\n    onTouchmove: handleTouch,\n    style: _normalizeStyle(_unref(lotteryHeight))\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", { class: \"content-top\" }, [\n          _createElementVNode(\"div\", {\n            class: \"address\",\n            onClick: getAddressInfo\n          }, _hoisted_5)\n        ]),\n        _hoisted_6,\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createVNode(_component_LuckyWheel, {\n            ref_key: \"myLucky\",\n            ref: myLucky,\n            width: \"277px\",\n            height: \"277px\",\n            prizes: _unref(lotteryInfo).prizeList,\n            blocks: blocks,\n            buttons: buttons,\n            onStart: startCallback,\n            onEnd: endCallback\n          }, null, 8 /* PROPS */, [\"prizes\"])\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createElementVNode(\"div\", _hoisted_9, [\n        _hoisted_10,\n        _createElementVNode(\"div\", _hoisted_11, [\n          _createElementVNode(\"div\", _hoisted_12, [\n            _createElementVNode(\"div\", _hoisted_13, [\n              _createElementVNode(\"span\", _hoisted_14, \"活动名称：\" + _toDisplayString(_unref(lotteryInfo).activityTitle), 1 /* TEXT */),\n              (_unref(lotteryInfo).activityStartTime)\n                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_15, \"活动时间：\" + _toDisplayString(_unref(lotteryInfo).activityStartTime.split(\" \")[0]) + \"-\" + _toDisplayString(_unref(lotteryInfo).activityEndTime.split(\" \")[0]), 1 /* TEXT */))\n                : _createCommentVNode(\"v-if\", true),\n              _createElementVNode(\"span\", _hoisted_16, \"每人参与次数：\" + _toDisplayString(_unref(lotteryInfo).drawNumber), 1 /* TEXT */),\n              _createElementVNode(\"span\", _hoisted_17, \"可获奖次数：\" + _toDisplayString(_unref(lotteryInfo).winPrizeNumber), 1 /* TEXT */),\n              _createElementVNode(\"div\", _hoisted_18, [\n                _createElementVNode(\"span\", {\n                  class: \"message\",\n                  innerHTML: _unref(lotteryInfo).activityDetails\n                }, null, 8 /* PROPS */, _hoisted_19)\n              ])\n            ])\n          ])\n        ])\n      ])\n    ]),\n    _createVNode(_component_van_dialog, {\n      class: \"remind_dialog\",\n      show: showPrize.value,\n      \"onUpdate:show\": _cache[1] || (_cache[1] = ($event: any) => ((showPrize).value = $event)),\n      showConfirmButton: false\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_20, [\n          _createElementVNode(\"span\", _hoisted_21, _toDisplayString(prizeRemind.value), 1 /* TEXT */),\n          _createElementVNode(\"span\", _hoisted_22, _toDisplayString(prizeInfo.value), 1 /* TEXT */),\n          _createVNode(_component_van_button, {\n            class: \"confirm\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (showPrize.value = false))\n          }, {\n            default: _withCtx(() => [\n              _hoisted_23\n            ]),\n            _: 1 /* STABLE */\n          })\n        ])\n      ]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"show\"])\n  ], 36 /* STYLE, HYDRATE_EVENTS */))\n}\n}\n\n})","import script from \"./Lottery.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Lottery.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Lottery.vue?vue&type=style&index=0&id=08ea5c14&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\直播项目\\\\live\\\\frontEnd\\\\labor-live\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-08ea5c14\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_5","_","_hoisted_6","src","alt","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","key","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","setup","__props","store","user","liveId","lotteryHeight","height","handleTouch","e","_isScroller","getLotteryHeight","window","innerHeight","addEventListener","router","route","getAddressInfo","push","name","myLucky","axios","config","globalProperties","$axios","lotteryInfo","activityTitle","activityStartTime","activityEndTime","drawNumber","winPrizeNumber","activityDetails","prizeList","showPrize","prizeRemind","prizeInfo","currentIndex","blocks","padding","imgs","width","buttons","radius","top","startCallback","post","defaults","baseURL","activityId","Number","query","value","then","res","data","code","play","forEach","item","index","result","prizeId","setTimeout","stop","message","endCallback","prize","prizeTitle","get","length","timer","setInterval","fonts","text","fontColor","fontSize","background","clearInterval","removeEventListener","_ctx","_cache","_component_LuckyWheel","_component_van_button","_component_van_dialog","onTouchmove","style","onClick","ref_key","ref","prizes","onStart","onEnd","split","innerHTML","show","$event","showConfirmButton","default"],"sourceRoot":""}